Commit_ID,Contributor,Date,Message,Files
a9d41c6c646d68f9b91d0bfda72deca2faf3c258,Simen Svale Skogsrud,2009-01-29,tweaks and bugfixes,"['Makefile,gcode.c,motion_control.c,readme.txt,serial_protocol.c,stepper.c,stepper.h,todo.txt,wiring_serial.c']"
50a9f7808881f268a8e96e7f220f31a7da627d86,Simen Svale Skogsrud,2009-02-03,lots and lots of bugfixes after running on reals hardware for the first time,"['Makefile,arc.rb,theta.rb,config.h,gcode.c,gcode.h,geometry.c,geometry.h,unrolled_arc.c,main.c,motion_control.c,motion_control.h,nuts_bolts.h,serial_protocol.c,serial_protocol.h,stepper.c,stepper.h,echotest.rb,gcodetest.png']"
df271c82dadffa63fcbc80f49d2a06eb058d7e83,Simen Svale Skogsrud,2010-01-05,fixed en operator precedence bug with step mask calculations,"['config.h,stepper.c']"
a42c03601d6ee7dc4267fce5293ad53c0500cffa,Simen Svale Skogsrud,2010-02-27,"Fixed a number of bugs caused by using abs() on floats and long ints. Added support for selectively inverting bits of the stepping port. Debugged, optimized and cleaned up timing code for the step-pulses.","['Makefile,config.h,gcode.c,braid_two_decimals.gcode,miller.gcode,geometry.c,main.c,motion_control.c,console,stream.rb,serial_protocol.c,stepper.c,stepper.h,wiring_serial.c']"
551b4ed274c5801ac501575bb00f081c5fb9b7b3,Simen Svale Skogsrud,2010-02-27,fixed a problem with the direction-pins,"['config.h,stepper.c']"
36fd3a9bfbc858997b297983569112dc9e223e68,Simen Svale Skogsrud,2010-03-02,"improved the serial protocol, added some debug pins for a while","['main.c,motion_control.c,serial_protocol.c,stepper.c']"
d0f64d8f65923be9abd16139f185ce2d374ecaba,Simen Svale Skogsrud,2010-07-03,fixed the inches->mm conversion bug and some general cleanup,"['config.h,gcode.c,serial_protocol.h']"
23da1ffa46727c9eb7c32bfc5443f01551b13aea,Simen Svale Skogsrud,2010-07-08,Merge branch 'bugfixes',['']
4869e7b1ccc0e3e69cedbe7008f7ec067571dfb4,Simen Svale Skogsrud,2011-01-24,reallocated debug pin to time replanning,"['stepper.c,stepper_plan.c']"
f5cf3195a8ede30c72e2fb0fee3fe54a8cfb12f9,Simen Svale Skogsrud,2011-01-31,probably fixed a bug that would crash grbl after ~20 commands,['stepper_plan.c']
e68e9cdf7c65f6c4448413fc04cc0b039caeef19,Simen Svale Skogsrud,2011-02-03,ousted numerous small bugs in acceleration-planner,['stepper_plan.c']
b44577f69f136d254ee594eec39a47a395c40ae7,Simen Svale Skogsrud,2011-02-03,small error in trapezoid-calculation,['stepper_plan.c']
59a9b640876c4abb8a25560cde99fd403f6b4f59,Simen Svale Skogsrud,2011-02-04,"removed a grave little bug in the planner and added a baseline safe speed so that motion sequences do not attempt to go to speed 0, but to a safe, higher speed based on the max_jerk setting","['stepper.c,stepper_plan.c,stepper_plan.h']"
9f5365aac9ed8b79e767d8a811fa1a01f74ce75d,Simen Svale Skogsrud,2011-02-04,fixed a bug where F-commands never would modify feed-rate of G0-operations,['gcode.c']
682e23eb7b1fc46fb9d9e99b96f780ab398cd571,Simen Svale Skogsrud,2011-02-05,added error messages and dropped echoing of command input,"['gcode.h,serial_protocol.c']"
041a8b8a3ff526477b98f09f5def6589b4e5efee,Simen Svale Skogsrud,2011-02-07,purged debug code,"['stepper.c,stepper_plan.c']"
9b022a6f4faf6e3786ed904547b011dcfb78832c,Simen Svale Skogsrud,2011-02-10,minor tweak eliminates 'ok' message after errors,"['console,serial_protocol.c']"
c5e0285e80291641ff2e729bd759bd8f170ed367,Simen Svale Skogsrud,2011-02-10,eliminated som debug code,['stepper.c']
fb5db05b6dc16f2975ec7026ba4c426a4da20f8e,Simen Svale Skogsrud,2011-02-10,eliminated some more debug code,['main.c']
ef61efbf704af5ca736e87905155fefedea8be83,Simen Svale Skogsrud,2011-02-11,makes sure steppers cruise at exactly nominal rate to eliminate rounding errors. Possibly fixes the problem where some moves have a long tail of slow steps. (Untested),"['planner.c,stepper.c']"
dce597be45b0cb054159055aeb9d9919e4785b82,Simen Svale Skogsrud,2011-02-11,corrected the handling of status codes so that 'ok' will not be default response in the event of an undefined error code (untested),['serial_protocol.c']
c02a6e23664511b01f0d7859c4432c79a3050feb,Simen Svale Skogsrud,2011-02-16,"possible improvement on the long, slow tail problem",['planner.c']
1ed2195e11c4aae1797b49fae2ed8c7883d5b3ed,Simen Svale Skogsrud,2011-02-16,a new (slightly inelegant) stab at eliminating the slow tail problem,"['planner.c,planner.h,trapezoid_simulator.rb,stepper.c']"
31635481ad10a483427067a79307c1f9a3dd117f,Simen Svale Skogsrud,2011-02-17,added informative error message for people building 0.6 for atmega168 (impossible),['main.c']
b8eee5ac9a403b84de4ddc86b824606e06390d8f,Simen Svale Skogsrud,2011-02-17,clamped safe speed to 100% of nominal speed. Fixes a problem that might have spelled trouble at very low feed rates,['planner.c']
60f417b57021d5d72ca1fd3cb8fa936b842f96e0,Simen Svale Skogsrud,2011-02-23,fixed a double rounding error compensation bug in mc_arc thanks to Etienne Chové,['motion_control.c']
4cac11ec86415cb364c8a15701c96e948cf5996d,Simen Svale Skogsrud,2011-02-25,fixed synchronization problem with spindle_control,['spindle_control.c']
f4c1cbac3c5e0ddfbdd4e9d095420f8b11a4eded,Simen Svale Skogsrud,2011-05-31,added a fix for division by zero errors that would occur on very low feed rates (thanks to Arthur Wolf for hardcore investigation),['planner.c']
c3fda5ac211cff8b02d011a9ddde50ae8f29ed75,Simen Svale Skogsrud,2011-06-05,fixed a bug where the default step mask would not actually reflect the real pin out,['settings.c']
5466bc0c33e9be6d94bff2485e6fb697413bdec6,Simen Svale Skogsrud,2011-07-10,fixed a nil dereferencing bug in planner_forward_pass_kernel thanks to jv4779,['planner.c']
d3f1f82e5f65e83198b3ef0f013ed7c77dbc120d,Brian Boucheron,2011-07-17,added error message for step pulses < 3 microseconds,['settings.c']
5f09dba95d21707ccf0a1a7261f75f0942f33ea8,Simen Svale Skogsrud,2011-07-19,Merge pull request #34 from beardicus/pulse_error_msgStep Pulse Error Message thanks to beardicus.,['']
ea5b8942db2616e93fc0478922010c3bab7c0481,chamnit,2011-08-15,"Moved comment and block delete handling to be done in protocol.c rather than gcode.c. Prevents these from being held in memory. Also, fixes bug when comments and block delete character are mixed with g-code.",['protocol.c']
a2837943c014590704e57bca8597b9d8654f1b17,Sonny J,2011-08-15,"Revert ""Moved comment and block delete handling to be done in protocol.c rather than gcode.c. Prevents these from being held in memory. Also, fixes bug when comments and block delete character are mixed with g-code.""This reverts commit ea5b8942db2616e93fc0478922010c3bab7c0481.",['protocol.c']
896a6b9199395eb9dbfd42134d84ba40a332eb36,Sonny J,2011-08-15,"Moved comment and block delete handling into protocol.c from gcode.c. Fixes bug when comment and block delete are not isolated. Blank lines ignored.Comments, block delete characters, and blank lines are no longer passedto the gcode parser and should free up some memory by ignoring thesecharacters. Gcode parser now expects clean gcode only. There was a bugif there were block deletes or comments not in the first character (i.e.spindle on/off for proofing geode without turning it on, or a NXXfollowed by a comment). This should fix it by bypassing the problem.Left a commented line for easily turning on and off block deletes for alater feature, if desired.","['gcode.c,protocol.c']"
badb638df925924c05b3b5e49880590e53faa759,Sonny J,2011-08-15,"Moved comment and block delete handling into protocol.c from gcode.c. Fixes bug when comment and block delete are not isolated. Blank lines ignored.Comments, block delete characters, and blank lines are no longer passedto the gcode parser and should free up some memory by ignoring thesecharacters. Gcode parser now expects clean gcode only. There was a bugif there were block deletes or comments not in the first character (i.e.spindle on/off for proofing geode without turning it on, or a NXXfollowed by a comment). This should fix it by bypassing the problem.Left a commented line for easily turning on and off block deletes for alater feature, if desired.","['gcode.c,protocol.c']"
5c2150daa9b6ca9c7f3be32f37907cf1f7b46f6f,Sonny J,2011-09-03,"Significantly improved junction control and fixed computation bugs in planner- Junction jerk now re-defined as junction_deviation. The distance fromthe junction to the edge of a circle tangent to both previous andcurrent path lines. The circle radii is used to compute the maximumjunction velocity by centripetal acceleration. More robust andsimplified way to compute jerk.   - Fixed bugs related to entry and exitfactors. They were computed based on the current nominal speeds but notwhen computing exit factors for neighboring blocks. Removed factors andreplaced with entry speeds only. Factors now only computed for steppertrapezoid rate conversions.  - Misc: Added min(), next_block_index,prev_block_index functions for clarity.","['nuts_bolts.h,planner.c,planner.h,settings.c,settings.h']"
5e2e935bda93d0923ffa385e9cafb7a751c65e34,Sonny J,2011-09-03,Minor bug fixes in planner.,['planner.c']
f1e5ff35ecf6dfd11c431e4e714c7bc6077ca52a,Sonny J,2011-09-04,"More minor bug fixes in planner.Reverse planner was over-writing the initial/buffer tail entry speed,which reset the forward planner and caused it to lose track of itsspeed. Should now accelerate into short linear segments much nicer now.",['planner.c']
ffcc3470a31411b63aa57d12cc58cc306a1fb660,Sonny J,2011-09-06,"Optimized planner re-write. Significantly faster. Full arc support enabled by rotation matrix approach.- Significant improvements in the planner. Removed or reorderedrepetitive and expensive calculations by order of importance:recalculating unchanged blocks, trig functions [sin(), cos(), tan()],sqrt(), divides, and multiplications. Blocks long enough for nominalspeed to be guaranteed to be reached ignored by planner. Done byintroducing two uint8_t flags per block. Reduced computational overheadby an order of magnitude.   - Arc motion generation completelyre-written and optimized. Now runs with acceleration planner. Removedall but one trig function (atan2) from initialization. Streamlinedcomputations. Segment target locations generated by vectortransformation and small angle approximation. Arc path correctionimplemented for accumulated error of approximation and single precisioncalculation of Arduino. Bug fix in message passing.","['gcode.c,motion_control.c,motion_control.h,nuts_bolts.h,planner.c,planner.h,protocol.c,grbl_preprocess.py,settings.c,settings.h']"
4d03c4febc94eaaaa6906a70c99ebb7c7e4947b1,Sonny J,2011-09-13,"Further planner improvements and misc minor bug fixes. Memory savings and increased buffer size.- Update grbl version and settings version to automatically reseteeprom. FYI, this will reset your grbl settings. - Saved3*BLOCK_BUFFER_SIZE doubles in static memory by removing obsoletevariables: speed_x, speed_y, and speed_z. - Increased buffer sizeconservatively to 18 from 16. (Probably can do 20). - Removed expensive!modulo operator from block indexing function. Reduces significantcomputational overhead. - Re-organized some sqrt() calls to be moreefficient during time critical planning cases, rather than non-timecritical. - Minor bug fix in planner max junction velocity logic. -Simplified arc logic and removed need to multiply for CW or CCWdirection.","['gcode.c,motion_control.c,motion_control.h,nuts_bolts.h,planner.c,planner.h,protocol.c,grbl_preprocess.py,settings.c,settings.h']"
6de805441fe00b436c1f44997df4034543164b50,Sonny J,2011-09-18,"Fixed minor bugs in planner. Increased max dwell time. Long slope bug stop-gap solution note.- Fixed the planner TODO regarding minimum nominal speeds. Re-arrangedcalculations to be both more efficient and guaranteed to be greaterthan zero. - Missed a parenthesis location on the rate_deltacalculation. Should fix a nearly in-perceptible issue with incorrectacceleration ramping in diagonal directions. - Increased maximum dwelltime from 6.5sec to an 18hour max. A crazy amount more, but that's howthe math works out. - Converted the internal feedrate values to mm/minonly, as it was switching between mm/min to mm/sec and back to mm/min.Also added a feedrate > 0 check in gcode.c. - Identified the long slopeat the end of rapid de/ac-celerations noted by stephanix. Problem withthe numerical integration truncation error between the exact solutionof estimate_acceleration_distance and how grbl actually performs theacceleration ramps discretely. Increasing theACCELERATION_TICKS_PER_SECOND in config.h helps fix this problem.Investigating further.","['config.h,gcode.c,motion_control.c,motion_control.h,planner.c']"
2be0d668722ed42af66a4bdab71cda672189ff73,Sonny Jeon,2011-09-24,"Fixed long slope at deceleration issue. Moved things into config.h. New MINIMUM_PLANNER_SPEED parameter.- The long standing issue of a long slope at deceleration is likelyfixed. The stepper program was not tracking and timing the end ofacceleration and start of deceleration exactly and now is fixed tostart and stop on time. Also, to ensure a better acceleration curve fitused by the planner, the stepper program delays the start of theaccelerations by a half trapezoid tick to employ the midpoint rule. -Settings version 3 migration (not fully tested, but should work) -Added a MINIMUM_PLANNER_SPEED user-defined parameter to planner to leta user change this if problems arise for some reason. - Moved alluser-definable #define parameters into config.h with clear comments onwhat they do and recommendations of how to change them. - Minorhousekeeping.","['config.h,gcode.c,motion_control.c,planner.c,settings.c,stepper.c']"
05ed6c122d16889a82ebaca6835a21676a6ed0e3,Sonny Jeon,2011-09-25,Updated some comments and fixed a bug in the new stepper logic.- The stepper logic was not initiating the decelerations for certaincases. Just re-arranged the logic to fix it.,['stepper.c']
6f27e2cdb1625657ccb8a96c3fbc9bd637f29170,Sonny Jeon,2012-01-09,Corrected a minor streaming script character counting bug.,['stream.py']
89a3b37e020aa4e657973baadb0ff0936aa25656,Sonny Jeon,2012-01-10,"Extended position reporting with both home and work coordinates. Home position now retained after reset. Other minor changes/fixes.- Grbl now tracks both home and work (G92) coordinate systems and doeslive updates when G92 is called.- Rudimentary home and work position status reporting. Works but stillunder major construction.- Updated the main streaming script. Has a disabled periodic timer forquerying status reports, disabled only because the Python timer doesn'tconsistently restart after the script exits. Add here only for usertesting.- Fixed a bug to prevent an endless serial_write loop during statusreports.- Refactored the planner variables to make it more clear what they areand make it easier for clear them.","['limits.c,main.c,motion_control.c,nuts_bolts.h,planner.c,protocol.c,stream.py,serial.c,stepper.c']"
d27dd13a54badd0f8ecb21b3c06dbde7a2ea8cd3,Sonny Jeon,2012-01-15,"Fix bug with premature step end. Refactored _delay_ms() and square() for better portability.- Fixed a premature step end bug dating back to Simen's 0.7b edgeversion is fixed, from which this code is forked from. Caused by Timer2constantly overflowing calling the Step Reset Interrupt every 128usec.Now Timer2 is always disabled after a step end and should free up somecycles for the main program. Could be more than one way to fix thisproblem. I'm open to suggestions.- _delay_ms() refactored to accept only constants to comply withcurrent compilers. square() removed since not available with somecompilers.","['config.h,main.c,motion_control.c,nuts_bolts.c,nuts_bolts.h,planner.c,stream.py,stepper.c']"
66d3155f2fbb160a238f5f0ac9ad96c75d7f38ad,Sonny Jeon,2012-01-15,"Propagated premature step end bug fix from the edge branch. Updated printFloat() function.- Will not be uploading a hex build of this, unless asked.","['print.c,stepper.c']"
0f0d5a6138b6a3edac20b150da318d5f637e4152,Sonny Jeon,2012-01-27,Streaming script argparse bugfix.,['stream.py']
b51e90253011e8628643e3fd37103f5192e726a5,Sonny Jeon,2012-01-28,"Program stop support (M0,M1*,M2,M30*), proper position retainment upon reset, misc minor updates.- Program stop support (M0,M1*,M2,M30*). *Optional stop to be done.*Pallet shuttle not supported.- Work position is set equal to machine position upon reset, asaccording to NIST RS274-NGC guidelines. G92 is disabled.- Renamed mc_set_current_position() to mc_set_coordinate_offset().- Fixed bug in plan_synchronize(). Would exit right before last step isfinished and caused issues with program stops. Now fixed.- Spindle now stops upon a run-time abort command.- Updated readme and misc upkeeping.","['config.h,gcode.c,gcode.h,main.c,motion_control.c,motion_control.h,nuts_bolts.c,nuts_bolts.h,planner.c,planner.h,print.c,print.h,protocol.c,protocol.h,readme.textile,serial.c,stepper.c']"
567fbf93ed6b8fb4e305c420e1ae5387547ff047,Sonny Jeon,2012-02-11,"G54 work coordinate support (w/ G10,G92.1). Re-factored g-code parser with error checking. Minor compiler compatibility changes.- G54 work coordinate system support. Up to 6 work coordinate systems(G54-G59) available as a compile-time option.- G10 command added to set work coordinate offsets from machineposition.- G92/G92.1 position offsets and cancellation support. Properly followsNIST standard rules with other systems.- G53 absolute override now works correctly with new coordinate systems.- Revamped g-code parser with robust error checking. Providing userfeedback with bad commands. Follows NIST standards.- Planner module slightly changed to only expected position movementsin terms of machine coordinates only. This was to simplify coordinatesystem handling, which is done solely by the g-code parser.- Upon grbl system abort, machine position and work positions areretained, while G92 offsets are reset per NIST standards.- Compiler compatibility update for _delay_us().- Updated README.","['config.h,gcode.c,gcode.h,limits.c,main.c,motion_control.h,nuts_bolts.c,nuts_bolts.h,planner.c,planner.h,protocol.c,protocol.h,readme.textile,serial.h,spindle_control.c']"
d6abf10d49c16f14a68ef213f749f11e7398e7cb,Sonny Jeon,2012-02-25,"Minor include related compile fix. Added experimental XON/XOFF flow control. Not officially supported!- A latency issue related to USB-to-serial converters on the Arduinodoes not allow for XON/XOFF flow control to work correctly on standardterminal programs. It seems that only specialized UI's or avoiding theUSB port all together solves this problem. However, XON/XOFF flowcontrol is added for advanced users only as a compile-time option. Thisfeature is officially *NOT* supported by grbl, but let us know of anysuccesses with it!","['config.h,nuts_bolts.h,serial.c']"
d3be21693171ed597dd212176c6fb33d35cff622,Sonny Jeon,2012-03-10,Minor fix related to spindle_stop() crashing abort in certain cases.- Updated spindle_stop() to fix abort bug and to be more in line withv0.8.,"['config.h,gcode.c,main.c,serial.c,spindle_control.c']"
1720484d761509a824ced51a513bc589a36c0cf5,Sonny Jeon,2012-06-27,No changes. Github commit bug.,"['COPYING,Makefile,commands.txt,resources.txt,structure.txt,eeprom.h,gcode.c,gcode.h,limits.c,limits.h,main.c,motion_control.c,motion_control.h,nuts_bolts.c,nuts_bolts.h,planner.c,planner.h,print.c,print.h,protocol.c,protocol.h,stream.rb,trapezoid_simulator.rb,serial.c,serial.h,settings.c,settings.h,spindle_control.c,spindle_control.h,stepper.h']"
4d3c720bcc0cec06e9f108913fd5a5fc655ce5ec,Sonny Jeon,2012-09-19,"M30 minor bug fix.Order of operations was off. Now works as intended,",['gcode.c']
d30cb906f886e71987ce986effbd1c9368aca479,Sonny Jeon,2012-09-30,"Updated limit/homing routine. Works, but needs more TLC.- Added acceleration to the homing routine.- Homing now accounts for different step rates when moving multipleaxes without exceeding acceleration limits.- Homing now updates all internal positioning variables to machine zeroafter completion.- ""Poor-man's"" debounce delay added.- Updated the delay_us() function to perform faster and more accuratemicrosecond delays. Previously, the single increments would addnoticeable time drift for larger delays.- Fix a bug in the stepper.c prescalar calculations that was changed inthe last commit.- Other minor fixes.","['config.h,gcode.c,gcode.h,limits.c,motion_control.c,nuts_bolts.c,planner.c,planner.h,serial.c,stepper.c']"
4c6f5bec481177ab32086fefb03e6e83a1720b2f,Sonny Jeon,2012-10-09,"Improved homing cycle. New settings: homing enable/rates, debounce and step idle lock time.- Homing cycle will now cycle twice (spec more/less in config) toimprove repeatability and accuracy by decreasing overshoot.- New Grbl settings added: Enable/disable homing cycles, homing seekand feed rates, switch debounce delay, and stepper idle lock time.- Please note that these settings may change upon the next push, sincethere will be more added soon. Grbl *should* not re-write your oldsettings, just re-write the new ones. So, make sure you keep thesewritten down somewhere in case they get lost from a code bug.- Refactored settings migration to be a little smaller and managablegoing forward.","['config.h,gcode.c,limits.c,protocol.c,protocol.h,settings.c,settings.h,stepper.c']"
34f6d2eb4b3e25aec008889451e6fd4276ee055b,Sonny Jeon,2012-10-13,"Minor updates, improvements, and bug fixes.- Allowed status_message function to be called by others. This is tocentralize all feedback into protocol.c.- Fixed a bug where line number words 'N' were causing the parser toerror out.- Allowed homing routine feed rates to move slower than theMINIMUM_STEP_RATE parameter in config.h.- Homing performs idle lock at the end of the routine.- Stepper idle lock time will now not disable the steppers when thevalue is set at 255. This is accomodate users who prefer to keep theiraxes enabled at all times.- Moved some defines around to where they need to be.","['gcode.c,limits.c,limits.h,planner.c,protocol.c,protocol.h,settings.c,settings.h,stepper.c,stepper.h']"
df5bb70b2515b8bc05ca7c90abf1b221f63aeafe,Sonny Jeon,2012-10-16,"Hard limits, homing direction, pull-off limits after homing, status reports in mm or inches, system alarm, and more.- Thank you statement added for Alden Hart of Synthetos.- Hard limits option added, which also works with homing by pulling offthe switches to help prevent unintended triggering. Hard limits use ainterrupt to sense a falling edge pin change and immediately go intoalarm mode, which stops everything and forces the user to issue a reset(Ctrl-x) or reboot.- Auto cycle start now a configuration option.- Alarm mode: A new method to kill all Grbl processes in the event ofsomething catastrophic or potentially catastropic. Just works with hardlimits for now, but will be expanded to include g-code errors (mostlikely) and other events.- Updated status reports to be configurable in inches or mm mode. Muchmore to do here, but this is the first step.- New settings: auto cycle start, hard limit enable, homing directionmask (which works the same as the stepper mask), homing pulloffdistance (or distance traveled from homed machine zero to preventaccidental limit trip).- Minor memory liberation and calculation speed ups.","['config.h,gcode.c,limits.c,main.c,motion_control.c,nuts_bolts.h,protocol.c,serial.c,settings.c,settings.h,stepper.c']"
39e11b696f3f67904e595e379b89b9734999c374,Sonny Jeon,2012-10-18,Hard limits code minor updates.- Fixed a bug that would not disable the steppers if a user issues asystem abort during a homing cycle.- Updated the hard limit interrupt to be more correct and to issue ashutdown for the right situations when the switch has been triggered.- Added a status message to indicate to the user what happened and whatto do upon a hard limit trigger.,"['config.h,limits.c,motion_control.c,nuts_bolts.h,protocol.c,protocol.h,serial.c']"
065ceceb342f1366fc61cdc900af292767a3728d,Sonny Jeon,2012-10-21,"New alarm method. Re(re)organized status messages.- Installed a new 'alarm' method to centralize motion kills acrossalarm or reset events. Right now, this is controlled by system abortand hard limits. But, in the future, a g-code parser error may callthis too as a safety feature.- Re(re)organized status messages to just print all errors, regardlessfrom where it was called. This centralizes them into one place.- Misc messages method installed for any user feedback that is not aconfirmation or error. Mainly so that there is a place to performwarnings and such.- New stuff installed and still made the flash size smaller by savingflash space from clearing out repeated '\r\n' pgmstrings.- Fixed a bug where hard limits message would print everytime a systemabort was sent.","['limits.c,motion_control.c,motion_control.h,protocol.c,protocol.h,serial.c,settings.c,settings.h,stepper.c']"
e0a9054e32f6e00cf6931552b11b9f201e240bf0,Sonny Jeon,2012-11-01,"New report module. 6 persistent work coordinates. New G-codes and settings. README and minor bug updates(NOTE: This push is likely buggy so proceed with caution. Justuploading to let people know where we're going.)- New report.c module. Moved all feedback functions into this module tocentralize these processes. Includes realtime status reports, statusmessages, feedback messages.- Official support 6 work coordinate systems (G54-G59), which arepersistently held in EEPROM memory.- New g-code support: G28.1, G30.1 stores current machine position as ahome position into EEPROM. G10 L20 Px stores current machine positioninto work coordinates without needing to explicitly send XYZ words.- Homing performed with '$H' command. G28/G30 no longer start thehoming cycle. This is how it's supposed to be.- New settings: Stepper enable invert and n_arc correction installed.- Updated and changed up some limits and homing functionality. Pull-offtravel will now move after the homing cycle regardless of hard limitsenabled. Fixed direction of pull-off travel (went wrong way).- Started on designing an internal Grbl command protocol based on the'$' settings letter. Commands with non numeric characters after '$'will perform switch commands, homing cycle, jogging, printingparamters, etc. Much more to do here.- Updated README to reflect all of the new features.","['Makefile,config.h,gcode.c,limits.c,main.c,motion_control.c,nuts_bolts.h,protocol.c,protocol.h,readme.textile,report.c,report.h,serial.c,settings.c,settings.h,stepper.c,stepper.h']"
303cf59f5246b46d0775b31290c04b5712ff4b2c,Sonny Jeon,2012-11-01,"Added block delete, opt stop, single block mode. New parser state and parameter feedback. Overhauled '$' command.NOTE: Another incremental update. Likely buggy, still a ways to gobefore everything is installed, such as startup blocks.- Changed the '$' command to print help. '$$' now prints Grbl settings.The help now instructs the user of runtime commands, switch toggling,homing, etc. Jogging will be added to these in v0.9.- Added switches: block delete, opt stop, and single block mode.- Now can print the g-code parser state and persistent parameters(coord sys) to view what Grbl has internally.- Made the gc struct in the g-code parser global to be able to printthe states. Also moved coordinate system tracking from sys to gc struct.- Changed up the welcome flag and updated version to v0.8c.- Removed spindle speed from gcode parser. Not used.","['config.h,gcode.c,gcode.h,nuts_bolts.h,protocol.c,report.c,report.h,settings.c,settings.h,spindle_control.c,spindle_control.h']"
4c711a4af7a21b1005bd2ac59a423b021ae831fb,Sonny Jeon,2012-11-03,"New startup script setting. New dry run, check gcode switches. New system state variable. Lots of reorganizing.(All v0.8 features installed. Still likely buggy, but now thouroughtesting will need to start to squash them all. As soon as we're done,this will be pushed to master and v0.9 development will be started.Please report ANY issues to us so we can get this rolled out ASAP.)- User startup script! A user can now save one (up to 5 as compile-timeoption) block of g-code in EEPROM memory. This will be run everytimeGrbl resets. Mainly to be used as a way to set your preferences, likeG21, G54, etc.- New dry run and check g-code switches. Dry run moves ALL motions atrapids rate ignoring spindle, coolant, and dwell commands. For rapidphysical proofing of your code. The check g-code switch ignores allmotion and provides the user a way to check if there are any errors intheir program that Grbl may not like.- Program restart! (sort of). Program restart is typically an advancedfeature that allows users to restart a program mid-stream. The checkg-code switch can perform this feature by enabling the switch at thestart of the program, and disabling it at the desired point with someminimal changes.- New system state variable. This state variable tracks all of thedifferent state processes that Grbl performs, i.e. cycle start, feedhold, homing, etc. This is mainly for making managing of these taskeasier and more clear.- Position lost state variable. Only when homing is enabled, Grbl willrefuse to move until homing is completed and position is known. This ismainly for safety. Otherwise, it will let users fend for themselves.- Moved the default settings defines into config.h. The plan is toeventually create a set of config.h's for particular as-built machinesto help users from doing it themselves.- Moved around misc defines into .h files. And lots of other littlethings.","['config.h,gcode.c,gcode.h,limits.c,limits.h,main.c,motion_control.c,motion_control.h,nuts_bolts.c,nuts_bolts.h,planner.c,planner.h,print.c,protocol.c,protocol.h,readme.textile,report.c,report.h,serial.c,serial.h,settings.c,settings.h,spindle_control.c,stepper.c,stepper.h']"
8c0106c247134383dc47174ae005c9242e9be643,Sonny Jeon,2012-11-04,"Tweaks and minor bug fixes. Added purge buffer command.- Added a purge buffer (and lock) command. This is an advanced optionto clear any queued blocks in the buffer in the event of systemposition being lost or homed. These queued blocks will likely not movecorrectly if not purged. In typical use, the purging command releasesthe homing axes lock in case a user need to move the axes off theirhard limit switches, but position is not guaranteed. Homing is advisedimmediately after.- Created a system-wide sync current position function. Cleans up someof the repetitive tasks in various places in the code that do the samething.- Removed the clear all switches command '$S'. Not really needed andhelped clean up a sync call.- Other minor tweaks. Readme updated slightly..","['gcode.c,gcode.h,main.c,motion_control.c,nuts_bolts.c,nuts_bolts.h,planner.c,planner.h,protocol.c,readme.textile,report.c,report.h']"
f41dd6927378c7a2600b2b177aadd59a2fc83ad3,Sonny Jeon,2012-11-05,"Tweaks and bug fixes. Increase to 3 startup blocks. Remove purge/added unlock command- Increased the number of startup blocks to 3 for no good reason otherthan it doesn't increase the flash size.- Removed the purge buffer command and replaced with an disable hominglock command.- Homing now blocks all g-code commands (not system commands) until thehoming cycle has been performed or the disable homing lock is sent.Homing is required upon startup or if Grbl loses it position. This isfor safety reasons.- Cleaned up some of the Grbl states and re-organized it to be littlemore cohesive.- Cleaned up the feedback and status messages to not use so much flashspace, as it's a premium now. - Check g-code and dry run switches how are mutually exclusive andcan't be enabled when the other is. And automatically resets Grbl whendisabled.- Some bug fixes and other minor tweaks.","['config.h,gcode.c,main.c,motion_control.c,nuts_bolts.h,protocol.c,report.c,report.h,settings.c']"
5e7a4b3ba8a032aa6880d7eb8224a37819f0286c,Sonny Jeon,2012-11-07,"More tweaks. Removed dry run. Trimmed all messages to save flash space.- Removed the dry run switch. It was getting overly complicated forwhat it needed to do. In practice, single block mode and feed rateoverrides (coming in next release) does a much better job with dry runsthan 'dry run'.- Trimmed all of Grbl's messages from help, status, feedback tosettings. Saved 0.6KB+ of flash space that could be used for v0.9features.- Removed some settings inits when set. Will depend on user to powercycle to get some of these to reload.- Fixed a bug with settings version not re-writing old settings, whenit should. Thanks Alden!","['config.h,gcode.c,gcode.h,main.c,protocol.c,report.c,settings.c,settings.h']"
e6ad15b548c65bf64c5fc733329e0ed9ebfc0e27,Sonny Jeon,2012-11-10,Tweaks. Seek rate updates when set. CCW arc full circle fix.- Fixed a minor issue where the seek rates would not immediately beused and only would after a reset. Should update live now.- A full circle IJ offset CCW arc would not do anything. Fixed bug viaa simple if-then statement.- Radius mode tweaks to check for negative value in sqrt() rather thanisnan() it. Error report updated to indicate what actually happened.,"['gcode.c,gcode.h,motion_control.c,report.c,report.h']"
559feb97e23b783883c8aef549d3dc330f9171b9,Sonny Jeon,2012-11-14,"Re-factored system states and alarm management. Serial baud support greater than 57600.- Refactored system states to be more clear and concise. Alarm locksprocesses when position is unknown to indicate to user something hasgone wrong.- Changed mc_alarm to mc_reset, which now manages the system resetfunction. Centralizes it.- Renamed '$X' kill homing lock to kill alarm lock.- Created an alarm error reporting method to clear up what is an alarm:message vs a status error: message. For GUIs mainly. Alarm codes arenegative. Status codes are positive.- Serial baud support upto 115200. Previous baudrate calc was unstablefor 57600 and above.- Alarm state locks out all g-code blocks, including startup scripts,but allows user to access settings and internal commands. For example,to disable hard limits, if they are problematic.- Hard limits do not respond in an alarm state.- Fixed a problem with the hard limit interrupt during the homingcycle. The interrupt register is still active during the homing cycleand still signal the interrupt to trigger when re-enabled. Instead,just disabled the register.- Homing rate adjusted. All axes move at homing seek rate, regardlessof how many axes move at the same time. This is unlike how the steppermodule does it as a point to point rate.- New config.h settings to disable the homing rate adjustment and theforce homing upon powerup.- Reduced the number of startup lines back down to 2 from 3. Thisdiscourages users from placing motion block in there, which can be verydangerous.- Startup blocks now run only after an alarm-free reset or after ahoming cycle. Does not run when $X kill is called. For satefy reasons","['config.h,gcode.c,limits.c,main.c,motion_control.c,motion_control.h,nuts_bolts.c,nuts_bolts.h,protocol.c,report.c,report.h,serial.c,serial.h,settings.c']"
9e0ce55dbc3eb8267509e1084071e04fb5f15443,Sonny Jeon,2012-11-19,"Updated interface protocol. Fixed M2 bug.- Updated interface protocol to play nicer with interface programs. AllGrbl responses beginning with '$' signifies a setting. Bracketed '[]'responses are feedback messages containing either state, parameter, orgeneral messages. Chevron '<>' response are from the real-time statusmessages, i.e. position.- M2 Program end command was causing a system alarm. Fixed. Thanks@blinkenlight !","['defaults.h,planner.c,report.c,stepper.c']"
ce45a348db692acbaa3631bbe095af65e270f690,Sonny Jeon,2012-11-20,Merge error fix.,['nuts_bolts.h']
e4d8cf511e8db1366167c1a829c177f6e8ba2bd3,Sonny Jeon,2012-11-25,"G28/G30 post move bug fix.- Fixed a bug when after moving to a pre-defined position G28/G30, thenext move would go someplace unexpected. The g-code parser positionvector wasn't getting updated.",['gcode.c']
bba633101a54551917e58ca00f2d08bcc82c34b4,Sonny Jeon,2012-11-25,G28/G30 post move bug fix. Altered file permissions.,"['COPYING,Makefile,config.h,eeprom.c,eeprom.h,gcode.c,gcode.h,limits.c,limits.h,main.c,motion_control.c,motion_control.h,nuts_bolts.c,nuts_bolts.h,planner.c,planner.h,print.c,print.h,protocol.c,protocol.h,readme.textile,serial.c,serial.h,settings.h,spindle_control.c,spindle_control.h,stepper.c,stepper.h']"
3082fdbb6d7e24527915ebc16d5dcf545bc2929c,Sonny Jeon,2012-12-10,"Planner execution time halved and bug fixes. Increased step rate limit to 30kHz.- Planner execute speed has been more than halved from 4ms to 1.9mswhen computing a plan for a single line segment during arc generation.This means that Grbl can now run through an arc (or complex curve)twice as fast as before without starving the buffer. For 0.1mm arcsegments, this means about the theoretical feed rate limit is about3000mm/min for arcs now.- Increased the Ranade timer frequency to 30kHz, as there doesn't seemto be any problems with increasing the frequency. This means that themaximum step frequency is now back at 30kHz.- Added Zen Toolworks 7x7 defaults.","['config.h,defaults.h,planner.c,report.c,stepper.c']"
b7b31df3af2d4d3119b5134e19a715d1f9f06c32,Sonny Jeon,2012-12-10,Planner bug fix.- Oops! Misplace an if-then statement. Should work as advertised now.(Hopefully),['planner.c']
4f273db8058f6c8a83fc9b7dac2ee0542b80dfd6,Sonny Jeon,2012-12-10,"(Another) Planner bug fix.- Oops again. Thought the new planner changes made things much better,but there was a bug. Improvements we on the order of 20% execution timereduction, rather than half. The increase to 30kHz Ranade timerfrequency also increased the overall overhead, so the total plannerchange? Zero. But, it's still better.",['planner.c']
cc4df3e14b74350bf8344f4a27e1e54af86a5e14,Sonny Jeon,2012-12-14,"Acceleration independence installed. Initial re-work of planner for feedrate overrides.NOTE: This push is a work-in-progress and there are known bugs thatneed to be fixed, like homing acceleration being incompatible. Releasedfor testing. Settings will definitely be overwritten, as new settingswere needed.- Acceleration independence installed in planner. Each axis can nowhave different accelerations and Grbl will maximize the accelerationsdepending on the direction its moving. Very useful for users like onthe ShapeOko with vastly different Z-axis properties.- More planner optimizations and re-factoring. Slightly improved someof the older calculations, but new acceleration calculations offsetthese improvements. Overall no change in processing speed.- Removed planner nominal length checks. It was arguable whether or notthis improved planner efficiency, especially in the worst case scenarioof arcs.- Updated readme and changed to markdown format.","['limits.c,planner.c,planner.h,readme.textile,report.c,settings.c,settings.h']"
3dfffa622d53e7727600249123ddc0c7db4f8954,Sonny Jeon,2012-12-19,"Arc mm_per_segment removed, now in terms of tolerance. Stepper ramp counter variable type corrected.- Arc mm_per_segment parameter was removed and replaced with anarc_tolerance parameter, which scales all arc segments automatically toradius, such that the line segment error doesn't exceed the tolerance.Significantly improves arc performance through larger radius arc,because the segments are much longer and the planner buffer has more towork with.- Moved n_arc correction from the settings to config.h. Mathematicallythis doesn't need to be a setting anymore, as the default config valuewill work for all known CNC applications. The error does not accumulateas much anymore, since the small angle approximation used by the arcgeneration has been updated to a third-order approximation and how theline segment length scale with radius and tolerance now. Left inconfig.h for extraneous circumstances.- Corrected the st.ramp_count variable (acceleration tick counter) to a8-bit vs. 32-bit variable. Should make the stepper algorithm just atouch faster overall.","['config.h,defaults.h,motion_control.c,planner.c,report.c,settings.c,settings.h,stepper.c']"
5e7c25d4801d79a84e45b42da24b5f5f0db56426,Sonny Jeon,2012-12-21,"Updated README. Max step rate back at 30kHz. Acceleration minor bug fix.- Returned the max step rate to 30kHz. The new arc algorithm works usesso much less CPU overhead, because the segments are longer, that theplanner has no problem computing through them.- Fixed an issue with the acceleration independence scaling. Should nowwork with accelerations above 400mm/sec^2 or so.- Updated README","['config.h,motion_control.c,planner.c']"
4f459e473b6955393501611e3353a60f1c2a7ca6,Sonny Jeon,2013-01-06,Fixed bug with homing and polling at the same time. Updated readme.,"['limits.c,motion_control.c,report.c']"
97d18f0ffe76f7943b2b2cb907e3bcb12f910a89,Sonny Jeon,2013-01-18,Merge bug fixes from recent v0.8c push. Added readme for Grbl Sim.,"['limits.c,motion_control.c,report.c']"
a0f430d18816a466a83fa523b7971522959e5353,Jens Geisler,2013-02-26,bugfix: uninitiallized curr_block->new_entry_speed_sqr lead to step lossin some cases,['planner.c']
b06643a2e07c4d9d80a5ec4aaa02b436c1522621,Sonny Jeon,2013-03-01,Bug fix to-do note on soft limit checks. Not yet completed.,['motion_control.c']
cdcb4263e8df0f6329658c36494e37347642b797,Sonny Jeon,2013-03-12,Merge pull request #200 from Protoneer/masterFixed small bug.,['']
3c9c516a4770b3a7d7d63b4d51cbb5b28c1131fd,Sonny Jeon,2013-03-21,"Untested! Soft limits, max travel, homing changes, new settings.- WARNING: Completely untested. Will later when there is time. SettingsWILL be overwritten, as there are new settings.- Soft limits installed. Homing must be enabled for soft limits to workcorrectly. Errors out much like a hard limit, locking out everythingand bringing up the alarm mode. Only difference is it forces a feedhold before doing so. Position is not lost.- IMPORTANT: Homing had to be updated so that soft limits work betterwith less CPU overhead. When homing completes, all axes are assumed toexist in negative space. If your limit switch is other side, the homingcycle with set this axis location to the max travel value, rather thanzero.- Update mc_line() to accept an array, rather than individual variables.- Added an mc_auto_cycle_start() function handle this feature.Organization only.-","['config.h,defaults.h,gcode.c,limits.c,limits.h,main.c,motion_control.c,motion_control.h,nuts_bolts.h,planner.c,planner.h,protocol.c,report.c,report.h,settings.c,settings.h']"
1fa3dad20617b4673765d7846208807345aa82cd,Sonny Jeon,2013-04-05,Updates to edge/dev. Line buffer increased/planner buffer decreased. Line overflow feedback.- Increased g-code parser line buffer to 70 characters (from 50) toprevent some long arc commands from getting truncated.- Decreased planner buffer from 18 to 17 blocks to free up memory forline buffer.- Added a line buffer overflow feedback error (Thanks @BHSPitMonkey!),"['config.h,gcode.c,planner.h,protocol.c,protocol.h,report.c,report.h,stepper.c,stepper_new.c']"
ca563cf42366a861f94aa6df45b31e939d1513ed,Sonny Jeon,2013-04-05,"Increased g-code parser line buffer. Added line overflow feedback.- Increased g-code parser line buffer from 50 to 70 characters. Shouldfix most all issues with long arc statements, provided that they are 8digits(float) long only.- Added a line buffer overflow feedback error to let the user know whenit encounters this problem. Resets the line whenever this occurs.(Thanks @BHSPitMonkey!)","['config.h,protocol.c,protocol.h,report.c,report.h']"
7a175bd2dbf7dd3521607f30031d8391377a89d3,Sonny Jeon,2013-08-19,"Push old dev_2 draft to work on other things.- **NON-FUNCTIONAL**- Contains an old draft of separating the stepper driver direct accessto the planner buffer. This is designed to keep the stepper and plannermodules independent and prevent overwriting or other complications. Inthis way, feedrate override should be able to be installed as well.- A number of planner optimizations are installed too.- Not sure where the bugs are. Either in the new planner optimizations,new stepper module updates, or in both. Or it just could be that theArduino AVR is choking with the new things it has to do.","['config.h,gcode.c,gcode.h,limits.c,main.c,motion_control.c,nuts_bolts.c,nuts_bolts.h,planner.c,planner.h,planner_old.c,planner_old.h,print.c,print.h,protocol.c,report.c,settings.c,stepper.c,stepper.h,stepper_new2.c,stepper_new_dual_ISR.c,stepper_new_time.c,stepper_old.c']"
8a10654b1cb694f4b24f7fd247acc345f3275d28,Sonny Jeon,2013-10-12,"New stepper subsystem bug fixes.- New stepper algorithm with the new optimized planner seems to beworking nearly twice as fast as the previous algorithm.- For one, the planner computation overhead is probably a fraction ofwhat it used to be with the worst case being about half still.- Secondly, anytime the planner plans back to the first executingblock, it no longer overwrites the block conditions and allows it tocomplete without lost steps. So no matter if the streams slows, theprotected planner should keep the steppers moving without risk of loststeps (although this still needs to be tested thoroughly and mayaudibly sound weird when this happens.)- It now seems that the bottleneck is the serial baudrate (which isgood!)",['stepper.c']
f7429ec79b621d1a4fb4486eac5bd03f6258589e,Sonny Jeon,2013-10-24,"Cleaned up stepper and planner code.- Added some compile-time error checking. Will add more in futurepushes to ensure settings are correct and within parameters that won'tbreak anything.- Pushed some master branch changes with MEGA pin settings.- Cleaned up planner code and comments to clarify some of the newchanges. Still much to do here.- Cleaned up the new stepper code. May need to abstract some of thesegment buffer more to fix the feed holds (and integrate homing intothe main stepper routine). With what's planned, this should make thestepper algorithm easier to attach other types of processes to it,where it is now tightly integrated with the planner buffer and nothingelse.","['config.h,pin_map.h,planner.c,planner.h,stepper.c']"
2f6663a0b9d983ba857e400997f91a6fd93abe30,Sonny Jeon,2013-12-04,"Reinstated feed holds into new stepper algorithm and planner. Rough draft, but working.- Reinstated the feed hold feature with the new stepper algorithm andnew optimized planner. It works, but will be re-factored a bit soon toclean up the code.- At this point, feedrate overrides may need to be installed in thev1.0 version of grbl, while this version will likely be pushed to theedge branch soon and pushed to master after the bugs have been squashed.- Measured the overall performance of the new planner and stepperalgorithm on an oscilloscope. The new planner is about 4x faster thanbefore, where it is completing a plan in around 1ms. The stepperalgorithm itself is minutely faster, as it is a little lighter. Thetrade-off in the increased planner performance comes from the new stepsegment buffer. However, even in the worse case scenario, the stepsegment buffer generates a new segment with a typical 0.2 ms, and theworse case is 1ms upon a new block or replanning the active block.Added altogether, it’s argubly still twice as efficient as the old one.","['planner.c,planner.h,stepper.c']"
a87f25773cfe551509f1f82c9bd997ae33c87aa5,Sonny Jeon,2013-12-07,"Pushed limits active high option. Updated defaults.h. Misc bug fixes. Cleaned up codebase.- Pushed limit switch active high option (i.e. NC switches).- Updated defaults.h to be in-line with the new settings.- Refactored feed hold handling and step segment buffer to be moregeneralized in effort to make adding feedrate overrides easier in thefuture. Also made it a little more clean.- Fixed G18 plane select issue. Now ZX-plane, rather than XZ-plane, perright hand rule.- Cleaned some of the system settings by more accurately renaming someof the variables and removing old obsolete ones.- Declared serial.c rx_buffer_tail to be volatile. No effect, sinceavr-gcc automatically does this during compilation. Helps with portingwhen using other compilers.- Updated version number to v0.9b.- Updates to README.md","['planner_dist.c,planner_time_archive.c,planner_v0_9.c,planner_v0_9.h,stepper_dist.c,stepper_old.c,stepper_time.c,stepper_time_archive.c,stepper_v0_9.c,config.h,defaults.h,gcode.c,limits.c,planner.c,planner.h,report.c,serial.c,settings.c,settings.h,stepper.c,stepper_test.c']"
d00525d384aa5cba6399ebcccb0b1368b2c970f8,Sonny Jeon,2013-12-07,Pushed bug fixes. Updated readme.- G18 plane select fix from XZ-plane to ZX-plane per right hand rule.- Added volatile declaration for rx_buffer_tail in serial.c. No realeffect to operation as avr-gcc adds this upon compilation. Helps withporting issues when using a different compiler.,"['gcode.c,serial.c']"
3054b2df774c8baa19d56421466c0f3c44c00041,Sonny Jeon,2013-12-10,"Revamped homing cycle. Axis limits and max travel bug fixes. Build info. Refactored config.h.- Revamped and improved homing cycle. Now tied directly into the mainplanner and stepper code, which enables much faster homing seek rates.Also dropped the compiled flash size by almost 1KB, meaning 1KB morefor other features.- Refactored config.h. Removed obsolete defines and configurationoptions. Moved lots of “advanced” options into the advanced area of thefile.- Updated defaults.h with the new homing cycle. Also updated theSherline 5400 defaults and added the ShapeOko2 defaults per usersubmissions.- Fixed a bug where the individual axes limits on velocity andacceleration were not working correctly. Caused by abs() returning aint, rather than a float. Corrected with fabs(). Duh.- Added build version/date to the Grbl welcome message to help indicatewhich version a user is operating on.- Max travel settings were not being defaulted into the settings EEPROMcorrectly. Fixed.- To stop a single axis during a multi-axes homing move, the stepperalgorithm now has a simple axis lock mask which inhibits the desiredaxes from moving. Meaning, if one of the limit switches engages beforethe other, we stop that one axes and keep moving the other.","['config.h,defaults.h,limits.c,nuts_bolts.h,planner.c,report.c,report.h,settings.c,settings.h,stepper.c']"
5ab2bb7767730ee32960fd53793721ec27f91fd9,Sonny Jeon,2013-12-29,"Incomplete dev code push, but working. Lots of updates/fixes/improvements. Much still to polish.- Ugh. Github just erased my list of improvements and changes due to aconflict and forcing me to resolve it. Hope this goes through.- Major stepper algorithm change. Trashed the old v0.9 edgebranch-style stepper algorithm. It’s fine, but it was susceptible toaliasing noise when moving very slow or very fast. It also had a bit ofCPU overhead. It was written to solve a standing issue with v0.8master, where it couldn’t generate a smooth acceleration abocve10-15kHz. But, with new step segment buffer in v0.9c, it inadvertentlyfixed the acceleration problem with v0.8 stepper algorithm. So, whatdoes it mean for you? Smoother stepper pulses and likely higher stepfrequencies.- Stepper algorithm now uses Timer1 and Timer2, instead of Timer0 andTimer2. Timers 0 and 2 can be swapped if there is an issue.- With the old v0.8 stepper algorithm, the STEP_DELAY_PULSEconfiguration option is also back.- NEW! Hard limit software debouncing. Grbl now employs the AVR’swatchdog timer as a way to monitor the hard limit pins and checkingtheir states after a delay. This is a simple software debouncingtechnique and may help alleviate some of the false trigger some usershave been complaining about. BUT, this won’t fix electric noise issues!- Fixed an issue with the new homing cycle routine where it wasn’thonoring the acceleration and axis speed limits depending on the homingcycle mask. Now does. Also, updated the homing direction mask code tobe a little cleaner.- Moved the main part of the homing cycle control and execution tomotion_control.c, where it fits better.- Removed the STATE_INIT system state as it was redundant. Made thesystem states into bitflags so multiple system states can be checkedvia one if statement.- Reorganized the power-up routine to work with the new system states.",['stepper.c']
47cd40c8dce6fac545119508459a4f2f0610f9ee,Sonny Jeon,2013-12-30,"Incomplete push but working. Lots more stuff. More to come.- NEW! An active multi-axis step smoothing algorithm that automaticallyadjusts dependent on step frequency. This solves the long standingissue to aliasing when moving with multiple axes. Similar in scheme toSmoothieware, but more advanced in ensuring a more consistent CPUoverhead throughout all frequencies while maintaining step exactness.- Switched from Timer2 to Timer0 for the Step Port Reset Interrupt.Mainly to free up hardware PWM pins.- Seperated the direction and step pin assignments, so we can now movethem to seperate ports. This means that we can more easily support 4+axes in the future.- Added a setting for inverting the limit pins, as so many users haverequest. Better late than never.- Bug fix related to EEPROM calls when in cycle. The EEPROM would killthe stepper motion. Now protocol mandates that the system be either inIDLE or ALARM to access or change any settings.- Bug fix related to resuming the cycle after a spindle or dwellcommand if auto start has been disabled. This fix is somewhat temporaryor more of a patch. Doesn’t work with a straight call-responsestreaming protocol, but works fine with serial buffer pre-fillingstreaming that most clients use.- Renamed the pin_map.h to cpu_map.h to more accurately describe whatthe file is.- Pushed an auto start bug fix upon re-initialization.- Much more polishing to do!","['config.h,cpu_map.h,defaults.h,limits.c,limits.h,main.c,motion_control.c,nuts_bolts.h,planner.c,protocol.c,report.c,settings.c,settings.h,stepper.c']"
f10bad43b2c5b2324e3b2ebf74b58640078107f5,Sonny Jeon,2013-12-30,"Minor bug fixes: Homing travel calculations. Cycle resuming after spindle and dwell commands.- Homing travel calculations fixed. It was computing the min travelrather than max.- Auto-start disable and pausing after spindle or dwell commands.Related to plan_synchronize() function call. Now fixed, but still needto work on the system state.- Pushed a fix to make this branch more Arduino IDE compatible. Removedextern call in nuts_bolts.c- Updated the stepper configuration option of enabling or disabling thenew Adaptive Multi-Axis Step Smoothing Algorithm. Now works either way.- Updated some copyright info.","['config.h,coolant_control.c,coolant_control.h,cpu_map.h,defaults.h,gcode.c,gcode.h,limits.c,limits.h,main.c,motion_control.c,motion_control.h,nuts_bolts.c,nuts_bolts.h,planner.c,planner.h,print.c,print.h,protocol.c,protocol.h,report.c,report.h,serial.c,serial.h,settings.c,settings.h,spindle_control.c,spindle_control.h,stepper.c,stepper.h']"
ce5f94d6759406987297125b892be447bd388919,Rob Brown,2014-01-03,Update spindle_control.cUpdated spindle_control.c due to compile error.,['spindle_control.c']
1c4097352dd089d6c445db491e76cc5dc9d4b6f7,Rob Brown,2014-01-03,Update to fix compile errorUpdate to fix compile error,"['spindle_control.c,spindle_control.h']"
0104cad56a7323d13f7637d7d77f9daba8e7bef0,Sonny Jeon,2014-01-03,Merge pull request #322 from EliteEng/devUpdate to fix compile error,['']
3c3382ff7557a8dff61505b0020f50fdb77d1190,Sonny Jeon,2014-01-05,"New build info feature. (per @Analogreality request)- New build info feature. Hidden command ‘$I’ will print the build infofor your Grbl firmware. Users may also write an identifying messagewithin it via ‘$I=‘ with up to 32 characters. (no more, or else it willbreak).- Adjusted the max number of startup lines to 3. Majority of peoplewill only need one.- Fixed a compile error with spindle_control.c. A rogue #endif wascausing problems.","['config.h,protocol.c,report.c,report.h,settings.c,settings.h,spindle_control.c']"
cc9afdc195da0b2e71eda71ea24ddbd14378ceb1,Sonny Jeon,2014-01-10,"Lots of re-organization and cleaning-up. Some bug fixes.- Added a new source and header file called system. These files containthe system commands and variables, as well as all of the system headersand standard libraries Grbl uses. Centralizing some of the code.- Re-organized the include headers throughout the source code.- ENABLE_M7 define was missing from config.h. Now there.- SPINDLE_MAX_RPM and SPINDLE_MIN_RPM now defined in config.h. Nouncommenting to prevent user issues. Minimum spindle RPM now providesthe lower, near 0V, scale adjustment, i.e. some spindles can go reallyslow so why use up our 256 voltage bins for them?- Remove some persistent variables from coolant and spindle control.They were redundant.- Removed a VARIABLE_SPINDLE define in cpu_map.h that shouldn’t havebeen there.- Changed the DEFAULT_ARC_TOLERANCE to 0.002mm to improve arc tracing.Before we had issues with performance, no longer.- Fixed a bug with the hard limits and the software debounce featureenabled. The invert limit pin setting wasn’t honored.- Fixed a bug with the homing direction mask. Now is like it used tobe. At least for now.- Re-organized main.c to serve as only as the reset/initializationroutine. Makes things a little bit clearer in terms of executionprocedures.- Re-organized protocol.c as the overall master control unit forexecution procedures. Not quite there yet, but starting to make alittle more sense in how things are run.- Removed updating of old settings records. So many new settings havebeen added that it’s not worth adding the code to migrate old usersettings.- Tweaked spindle_control.c a bit and made it more clear and consistentwith other parts of Grbl.- Tweaked the stepper disable bit code in stepper.c. Requires lessflash memory.","['Makefile,config.h,coolant_control.c,coolant_control.h,cpu_map.h,defaults.h,gcode.c,gcode.h,limits.c,limits.h,main.c,motion_control.c,motion_control.h,nuts_bolts.c,nuts_bolts.h,planner.c,planner.h,print.c,protocol.c,protocol.h,report.c,serial.c,serial.h,settings.c,settings.h,spindle_control.c,spindle_control.h,stepper.c,stepper.h,system.c,system.h']"
50fbc6e2972acadbe5db944ddf33d12a8d94f4a0,Sonny Jeon,2014-02-09,"Refactoring and lots of bug fixes. Updated homing cycle.WARNING: There are still some bugs to be worked out. Please use cautionif you test this firmware.- Feed holds work much better, but there are still some failureconditions that need to be worked out. This is the being worked oncurrently and a fix is planned to be pushed next.- Homing cycle refactoring: Slight adjustment of the homing cycle toallow for limit pins to be shared by different axes, as long as theshared limit pins are not homed on the same cycle. Also, removed theLOCATE_CYCLE portion of the homing cycle configuration. It wasredundant.- Limit pin sharing: (See above). To clear up one or two limit pins forother IO, limit pins can now be shared. For example, the Z-limit can beshared with either X or Y limit pins, because it’s on a separate homingcycle. Hard limit will still work exactly as before.- Spindle pin output fixed. The pins weren’t getting initializedcorrectly.- Fixed a cycle issue where streaming was working almost like a singleblock mode. This was caused by a problem with the spindle_run() andcoolant_run() commands and issuing an unintended planner buffer sync.- Refactored the cycle_start, feed_hold, and other runtime routinesinto the runtime command module, where they should be handled hereonly. These were redundant.- Moved some function calls around into more appropriate source codemodules.- Fixed the reporting of spindle state.","['config.h,coolant_control.c,cpu_map.h,gcode.c,gcode.h,limits.c,limits.h,main.c,motion_control.c,motion_control.h,planner.c,planner.h,protocol.c,protocol.h,report.c,spindle_control.c,stepper.c,stepper.h,system.c']"
3df61e0ec5f7cb0b4c09a847558ecf14a8697802,Sonny Jeon,2014-02-15,"Homing and feed hold bug fixes.WARNING: Bugs may still exist. This branch is a work in progress andwill be pushed to the edge branch when at beta stability. Use at yourown risk.- Homing freezing issue fixed. Had to do with the cycle stop flag beingset incorrectly after the homing cycles and before the pull-offmaneuver. Now resets the stepper motors before this can happen.- Fixed an issue with a rare feed hold failure. Had to do with feedhold ending exactly at the end of a block. The runtime protocol nowsets the QUEUED and IDLE states appropriately when this occurs. Stillneed to clean this code up however, as it’s patched rather than writtenwell.- Updated version build via $I command.- Forgot to comment on a new feature for the last commit. Since stepsare integers and millimeters traveled are floats, the old step segmentgenerator ignored the step fraction differences in generating thesegment velocities. Didn’t see like it would be much of a big deal, butthere were instances that this would be a problem, especially for veryslow feed rates. The stepper algorithm now micro-adjusts the segmentvelocities based on the step fractions not executed from the previoussegment. This ensures that Grbl generates the velocity profiles EXACTLYand noticeably improves overall acceleration performance.","['limits.c,protocol.c,settings.h,spindle_control.c,stepper.c']"
b332d6edbba7b147fba7be4779a68a44ad9c5df1,Sonny Jeon,2014-02-19,Commenting updates. Minor bug fix with exit of soft limit event.,"['limits.c,motion_control.c,stepper.c,system.c,system.h']"
0a46dfe0b91d58c8b40cf12252ac67516458bf00,Robert Grzesek,2014-02-25,Minimal probing cycle working.  Supports both G38.2 for error and G38.3 when no errors are desired.,"['cpu_map.h,gcode.c,gcode.h,motion_control.c,motion_control.h,report.c,report.h,stepper.c,system.c,system.h']"
387a1b9f849ca47b4958ab777e9c03e904fd735b,Sonny Jeon,2014-02-27,Merge pull request #362 from robgrz/devMinimal probing cycle working.  Supports both G38.2 for error and G38.3 ...,['']
76ab1b6a4282ec09df7b2c1dd534b83e61b1251c,Sonny Jeon,2014-02-28,"G38.2 probe feature rough draft installed. Working but needs testing.- G38.2 straight probe now supported. Rough draft. May be tweaked moreas testing ramps up.- G38.2 requires at least one axis word. Multiple axis words work too.When commanded, the probe cycle will move at the last ‘F’ feed ratespecified in a straight line.- During a probe cycle: If the probe pin goes low (normal high), Grblwill record that immediate position and engage a feed hold. Meaningthat the CNC machine will move a little past the probe switch point, sokeep federates low to stop sooner. Once stopped, Grbl will issue a moveto go back to the recorded probe trigger point.- During a probe cycle: If the probe switch does not engage by the timethe machine has traveled to its target coordinates, Grbl will issue anALARM and the user will be forced to reset Grbl. (Currently G38.3 probewithout error isn’t supported, but would be easy to implement later.)- After a successful probe, Grbl will send a feedback messagecontaining the recorded probe coordinates in the machine coordinatesystem. This is as the g-code standard on probe parameters specifies.- The recorded probe parameters are retained in Grbl memory and can beviewed with the ‘$#’ print parameters command. Upon a power-cycle, nota soft-reset, Grbl will re-zero these values.- Moved ‘$#’ command to require IDLE or ALARM mode, because it accessesEEPROM to fetch the coordinate system offsets.- Updated the Grbl version to v0.9d.- The probe cycle is subject to change upon testing or user-feedback.","['Makefile,cpu_map.h,gcode.c,gcode.h,limits.c,main.c,motion_control.c,motion_control.h,probe.c,probe.h,protocol.c,report.c,report.h,settings.h,stepper.c,system.c,system.h']"
60dd609b7956037369d5591bee33b778a6614efd,Rob Brown,2014-03-11,Added Probing to Mega2560 and fixed Shapeoko2 compile error,"['cpu_map.h,defaults.h']"
531005540876e9fedcc50ef7edef9aafa3690406,Sonny Jeon,2014-03-13,Merge pull request #373 from EliteEng/devAdded Probing to Mega2560 and fixed Shapeoko2 compile error,['']
532c359a11c71827895085e9355ba01dbad439fb,Sonny Jeon,2014-05-25,"Major g-code parser overhaul. 100%* compliant. Other related updates.- Completely overhauled the g-code parser. It’s now 100%* compliant. (*may have some bugs). Being compliant, here are some of the majordifferences.- SMALLER and JUST AS FAST! A number of optimizations were found thatsped things up and allowed for the more thorough error-checking to beinstalled without a speed hit. Trimmed a lot of ‘fat’ in the parser andstill was able to make it significantly smaller than it was.- No default feed rate setting! Removed completely! This doesn’t existin the g-code standard. So, it now errors out whenever it’s undefinedfor motions that require it (G1/2/3/38.2).- Any g-code parser error expunges the ENTIRE block. This means allinformation is lost and not passed on to the running state. Before someof the states would remain, which could have led to some problems.- If the g-code block passes all of the error-checks, the g-code stateis updated and all motions are executed according to the order ofexecution.- Changes in spindle speed, when already running, will update theoutput pin accordingly. This fixes a bug, where it wouldn’t update thespeed.- Update g-code parser error reporting. Errors now return detailedinformation of what exact went wrong. The most common errors return ashort text description. For less common errors, the parser reports‘Invalid gcode ID:20’, where 20 is a error ID. A list of error code IDsand their descriptions will be documented for user reference elsewhereto save flash space.- Other notable changes:- Added a print integer routine for uint8 variables. This savedsignificant flash space by switching from a heavier universal printinteger routine.- Saved some flash space with our own short hypotenuse calculation- Some arc computation flash and memory optimizations.","['config.h,coolant_control.c,coolant_control.h,defaults.h,gcode.c,gcode.h,motion_control.c,motion_control.h,nuts_bolts.c,nuts_bolts.h,print.c,print.h,probe.c,probe.h,protocol.c,report.c,report.h,settings.c,settings.h,spindle_control.c,spindle_control.h,system.c']"
8ed8005f6cc11d998b0a3546fc6d64e978d8277b,Sonny Jeon,2014-05-31,"Various minor g-code parser fixes.- Updated the mantissa calculation that checks for non-integer valuesand GXX.X commands that aren’t supported. There was a potential uint8overflow issue.- Fixed g-code parser bug related to not using the correct modalstruct. G10 P0 not selecting the current coordinate system when aG55-59 is issued in the same line.- Fixed g-code parser bug related to not using the correct modalstruct. Target position locations were not computed correctly whenG90/91 distance modes were changed in the same line. It was using theprevious state, rather than the current block.",['gcode.c']
79e0e45826641077fbd5771a139a3fafaf1927e5,Sonny Jeon,2014-05-31,Arc error-checking update.- Updated offset-mode arc error-checking to EMC2’s version: The oldNIST definition required the radii to the current location and targetlocation to differ no more than 0.002mm. This proved to be problematicand probably why LinuxCNC(EMC2) updated it to be 0.005mm AND 0.1%radius OR 0.5mm.,"['gcode.c,settings.h']"
015d5fa19105f90694ca46986fa264893bc7155a,Krzysztof Foltman,2014-06-26,"Fixed atomic access to flags in sys.execute.This seems to fix the bug that caused Grbl to hang during some operations,especially jogging.","['limits.c,motion_control.c,nuts_bolts.h,probe.c,protocol.c,serial.c,system.c']"
1ef5a4547900c94f89d5958f403094340b154cfd,Sonny Jeon,2014-07-02,"Minor bug fixes and updates. Line number tracking.- Line number tracking was getting truncated at 255, since it was usingwrong variable type. Fixed it with a trunc().- Increased the max number line allowed by Grbl to 9999999 from theg-code standard 99999. The latter seems to be an arbitrary number, sowe are allowing larger ones for at least one known use case scenario.- Created a new test directory to contain some testing g-code to proofthe firmware. Only got started with one test case so far. More will beinserted as needed.- Some other commenting updates to clarify certain aspects of the code.","['gcode.c,nuts_bolts.c,protocol.c,test.py']"
92d6c2bca51e4fce0e0fb7cc7239a219e5b56141,Sonny Jeon,2014-07-03,"G-code parser G0/G1 bug fix.- Although stated as invalid in the NIST g-code standard, most g-codeparsers, including linuxcnc, allow G0 and G1 to be commanded withoutaxis words present. For example, something like ‘G1 F100.0’ to presetthe motion mode and feed rate without a motion commanded. Older CNCcontrollers actually required this for feed rate settings. This updateshould now allow this type of behavior.",['gcode.c']
f4f7d7d05e56aca28aa0d45d8e57526949b5d9d6,Sonny Jeon,2014-07-03,"G18 reporting bug fix.- G18 wasn’t getting reported back to the user correctly, even thoughit has been set internally. Fixed the reporting code to reflect thisaccurately.",['report.c']
dab453572928762c672c91cdc86665dfacfd96a9,Sonny Jeon,2014-07-06,"G43.1/G49 tool length offset installed. Minor bug fix.- Minor bug fix that caused G92.1 not to work. The mantissa of G92.1was not computed correctly due to floating point round-off errors andthe use of trunc(). Fixed it by changing the computation with round().- Installed tool length offsets with G43.1 and G49! True tool lengthoffsets via G43 are not supported, because these require us to storetool data that we don’t have space for. But we’ve come up with a goodsolution for users that need this. Instead we are strictly using thedynamic version G43.1 via linuxcnc.org. Visit their website for moredetails on the command.- G43.1 operates by requiring an axis word and value to offset theconfigured tool length axis, which can be configured for any axis(default Z-axis) in config.h. For example, ```G43.1 Z0.5``` will offsetthe work coordinates from Z0.0 to Z-0.5.- G49 will cancel the last tool length offset value and reset it tozero.- Tweaked the ‘$#’ parameters report. `Probe` is now `PRB` and a newvalue `TLO` states the tool length offset value.","['config.h,gcode.c,report.c,report.h']"
a35262d56e8185348dfef0576bf23c6792fcc101,Sonny Jeon,2014-07-06,"Version and build update.- Incremented from v0.9e to v0.9f due to the new g-codes, velocityreporting option, decimal printing refactoring, grbl-sim updates, andG0/G1 bug fix.- Settings version was also incremented since settings.decimal_placesis now gone.",['settings.h']
9b37637ae6e2973eb04cdd2e951305134d17048a,ashelly,2014-07-10,"Bug fixes for timers, added some wdt support for limit debounce.- Typo in timer def,- Handle 8 bit timers correctly,- Don't skip TOP count in CTC mode- added SREG for atomic bit operations","['config.h,Makefile,interrupt.c,interrupt.h,io.h,wdt.h,simulator.c']"
71f333ddca8ab18be5fbc49c731984f0b8d2670e,Sonny Jeon,2014-07-26,"Settings refactoring. Bug fixes. Misc new features.This is likely the last major change to the v0.9 code base before pushto master. Only two minor things remain on the agenda (CoreXY support,force clear EEPROM, and an extremely low federate bug).- NEW! Grbl is now compile-able and may be flashed directly through theArduino IDE. Only minor changes were required for this compatibility.See the Wiki to learn how to do it.- New status reporting mask to turn on and off what Grbl sends back.This includes machine coordinates, work coordinates, serial RX bufferusage, and planner buffer usage. Expandable to more information on userrequest, but that’s it for now.- Settings have been completely renumbered to allow for future newsettings to be installed without having to constantly reshuffle andrenumber all of the settings every time.- All settings masks have been standardized to mean bit 0 = X, bit 1 =Y, and bit 2 = Z, to reduce confusion on how they work. The invertmasks used by the internal Grbl system were updated to accommodate thischange as well.- New invert probe pin setting, which does what it sounds like.- Fixed a probing cycle bug, where it would freeze intermittently, andremoved some redundant code.- Homing may now be set to the origin wherever the limit switches are.Traditionally machine coordinates should always be in negative space,but when limit switches on are on the opposite side, the machinecoordinate would be set to -max_travel for the axis. Now you can alwaysmake it [0,0,0] via a compile-time option in config.h. (Soft limitsroutine was updated to account for this as well.) - Probe coordinate message immediately after a probing cycle may nowbe turned off via a compile-time option in config.h. By default theprobing location is always reported.- Reduced the N_ARC_CORRECTION default value to reflect the changes inhow circles are generated by an arc tolerance, rather than a fixed arcsegment setting.- Increased the incoming line buffer limit from 70 to 80 characters.Had some extra memory space to invest into this.- Fixed a bug where tool number T was not being tracked and reportedcorrectly.- Added a print free memory function for debugging purposes. Not usedotherwise.- Realtime rate report should now work during feed holds, but it hasn’tbeen tested yet.- Updated the streaming scripts with MIT-license and added the simplestreaming to the main stream.py script to allow for settings to be sent.- Some minor code refactoring to improve flash efficiency. Reduced theflash by several hundred KB, which was re-invested in some of these newfeatures.","['config.h,defaults.h,gcode.c,gcode.h,limits.c,motion_control.c,nuts_bolts.c,nuts_bolts.h,planner.c,planner.h,print.c,print.h,probe.c,protocol.c,protocol.h,report.c,console,proxy,stream,stream.rb,trapezoid_simulator.rb,simple_stream.py,stream.py,serial.c,serial.h,settings.c,settings.h,spindle_control.c,stepper.c,system.c,8x_gear_test.nc,braid_cut2d.nc,kikigey89.settings']"
5c0d311d92884a6600eb0c910fc9d6d3b9e9074c,Sonny Jeon,2014-08-01,"Minor bug fixes.- Bug fix for step and direction invert masks not immediately being ineffect. Now regenerates the masks when a user changes this setting.- Bug fix for probing cycle. G-code standard mandates that there is anerror if the probe is already triggered when the cycle is commanded.However, Grbl may have motions to pull off a previous probing cycle inqueue and can falsely lead to errors. To fix this, the triggered checkis performed within the probing cycle itself, right after the plannerbuffer is synced. If there is an error, it will now alarm out as aprobe fail.","['gcode.c,motion_control.c,nuts_bolts.h,report.h,settings.c,settings.h,stepper.c,stepper.h,braid_cut2d.nc']"
469399fcd5b2c38d1df95ba3e05311098cbe2f79,Sonny Jeon,2014-08-03,"Probing cycle and view build info bug fixes.- Probing cycle would drop into a QUEUED state, if multiple G38.2 aresent. It would not honor the auto cycle start flags. To fix, the autocycle start state is saved at the beginning of the probing cycle andrestored at the end, since the feed hold it uses to stop a triggeredprobe will disable the auto start flag. For now it’s a patch, ratherthan a permanent fix.- protocol_buffer_synchronize() also has a failure case. Auto cyclestart does not get executed when the system is waiting in here, so ifit’s in a QUEUED state already, it won’t resume. Patched here, but notfully resolved.- Fixed a problem with the “view build info” command. The EEPROM writewould do weird things and corrupt the EEPROM. Not sure exactly whatcaused it, but it’s likely a compiler problem with an improperlydefined EEPROM address. It didn’t have enough room to store a fullstring. To fix, the build info EEPROM range was increased and the maxnumber of STARTUP_BLOCKS was reduced to 2 from 3.- Lastly, when a $I view build info is used for the first time, itwould normally show an EEPROM read error, since it wasn’t cleared orwasn’t therein the first place. It will now not show that error. Apatch rather than a permanent fix again.","['config.h,motion_control.c,protocol.c,settings.c,settings.h,system.c']"
d55f6b938cd54a95e14d94e2ad7730d1aeb772a4,Sonny Jeon,2014-08-04,"Fixed probe position sync error.- Restored probe position syncing. Had removed a pull-off motion aftera probe cycle completes, but ended up de-synchronizing the g-codeparser and probing cycle positions. Putting the pull-off motion backfixed the problem.",['motion_control.c']
9b9abf1b2f109b705ec4caf1ce31c4e8675d2262,Sonny Jeon,2014-08-05,"Fixed bug related to very very low feed rates.- A very very low feed rate command like `G1 X100 F0.01`  would causesome floating-point round-off error and freeze Grbl into an infiniteloop. To fix it, introduced a MINIMUM_FEED_RATE parameter in config.hto ensure motions always complete.- MINIMUM_FEED_RATE is set at 1.0 mm/min by default. It’s recommendedthat no rates are below this value, but 0.1mm/min may be ok in somesituations.","['config.h,planner.c,settings.h,stepper.c']"
6fdf10ba066bbdd7e1d1d971a22caf33f19bb4dc,Sonny Jeon,2014-08-13,"G28/30 bug fix. Block '$$' during cycle. SO2 defaults.- A G28/30 bug would cause it to move to machine coordinate [0,0,0] ifno axis words were sent. It was a typo in the new g-code parser. Fixedand slightly re-written to be more consistent with the program flow.- Updated the ShapeOko2 defaults based on testing on the real machine.A little conservative, but it might change again after some moretesting.- Now blocks ‘$$’ command during a motion, because the printout takestoo long and can starve the segment buffer.","['defaults.h,gcode.c,serial.c,settings.h,system.c']"
ec48571cbe6942e104356a564941bdc93850c20c,Sonny Jeon,2014-08-22,WPos report bug fix when MPos disabled.,"['Makefile,report.c']"
5edf078065de9a5af058f75f17c822e3944698db,Sonny Jeon,2014-09-05,"Minor bug fix and CPU pin map update.- Sometime I HATE github. This push is just here to be able to describethe last two pushes today that had a merging conflict and lost all ofthe commit comments before.- Setting $10 would cause $11 to be the same value. Missed a breakstatement in the switch-case. Oops! Now fixed.- CPU pin map for the future versions of Grbl introduced, but not yetfinalized. Still working on it and it’s subject to change.- Added a new high-speed machining test g-code routine written by ToddFleming. Mills a pocket at 15,000mm/min. Do not use when connected toyour machine! You’ve been warned!",['cpu_map.h']
f78eebcebf00319ac2901a6b54430e78d800e837,Elijah Insua,2014-09-14,add MOTION_MODE_PROBE_NO_ERROR,['gcode.h']
b89d194466e7f69d7d184a5f8c0df794b8b41682,Elijah Insua,2014-09-14,utilize MOTION_MODE_PROBE_NO_ERROR,['gcode.c']
322feba52feedd4600f4cde72ef10ea5aa235738,Sonny Jeon,2014-09-20,"Minor settings number overflow bug fix.- The `x` in `$x=val` would overflow when a value larger than 255 wasentered and passed to Grbl. This resulted with unintended parametersbeing set by the overflow value. To fix, simply check for values largerthan 255 and error out.",['system.c']
3392a8b2c89ce28967af52ee365d38c97ef925c3,Elijah Insua,2014-09-22,add/install probe_errors_enabled in mc_probe_cycle,"['motion_control.c,probe.c,probe.h']"
5f1eece67deeb06dc6cdbb969af575edda054066,Elijah Insua,2014-09-22,"hop over probe pull-off sequence after probe missand while ""no errors"" is enabled (G38.3, G38.5)",['motion_control.c']
0beacbbb1117f361c7367e2a2b24fdf135ebdd34,Elijah Insua,2014-09-22,"add probe_finalize to keep things DRYthis allows the PRB report to be valid when in ""no errors"" mode and the probe fails","['motion_control.c,probe.c,probe.h']"
7e67395463b7fedbd0ac2e03aef2e84875d8dcbc,Sonny Jeon,2014-10-01,"Updated variable spindle and new probing. Minor bug fixes.- Minor bug fix for variable spindle PWM output. Values smaller thanthe minimum RPM for the spindle would overflow the PWM value. ThanksRob!- Created an optional minimum spindle PWM low-mark value as acompile-time option. This is for special circumstances when the PWM hasto be at a certain level to be read by the spindle controller.- Refactored the new probing commands (G38.3, G38.4, G38.5) code towork better with the rest of Grbl’s systems.- Refactored mc_probe() and mc_arc() to accept the mode of the command,i.e. clockwise vs counter, toward vs away, etc. This is to make thesefunctions independent of gcode state variables.- Removed the pull off motion in the probing cycle. This is not anofficial operation and was added for user simplicity, but wrongly didso. So bye bye.- Created a configure probe invert mask function to handle thedifferent probe pin setting and probing cycle modes with a single mask. - Minor bug fix with reporting motion modes via $G. G38.2 wasn’tshowing up. It now does, along with the other new probing commands.- Refactored some of the new pin configurations for the future of Grbl.-","['config.h,cpu_map.h,gcode.c,gcode.h,motion_control.c,motion_control.h,probe.c,probe.h,report.c,spindle_control.c,system.h']"
9be7b3d9304a0968e238b5ef2ab8e2292aa5e351,Sonny Jeon,2015-01-14,"Lot of refactoring for the future. CoreXY support.- Rudimentary CoreXY kinematics support. Didn’t test, but homing andfeed holds should work. See config.h. Please report successes andissues as we find bugs.- G40 (disable cutter comp) is now “supported”. Meaning that Grbl willno longer issue an error when typically sent in g-code program header.- Refactored coolant and spindle state setting into separate functionsfor future features.- Configuration option for fixing homing behavior when there are twolimit switches on the same axis sharing an input pin.- Created a new “grbl.h” that will eventually be used as the maininclude file for Grbl. Also will help simply uploading through theArduino IDE- Separated out the alarms execution flags from the realtime (used becalled runtime) execution flag variable. Now reports exactly whatcaused the alarm. Expandable for new alarms later on.- Refactored the homing cycle to support CoreXY.- Applied @EliteEng updates to Mega2560 support. Some pins werereconfigured.- Created a central step to position and vice versa function. Neededfor non-traditional cartesian machines. Should make it easier later.- Removed the new CPU map for the Uno. No longer going to used. Therewill be only one configuration to keep things uniform.","['config.h,coolant_control.c,coolant_control.h,cpu_map.h,defaults.h,gcode.c,gcode.h,grbl.h,limits.c,limits.h,main.c,motion_control.c,motion_control.h,nuts_bolts.c,nuts_bolts.h,planner.c,planner.h,print.c,print.h,probe.c,probe.h,protocol.c,protocol.h,report.c,report.h,serial.c,serial.h,settings.c,settings.h,spindle_control.c,spindle_control.h,stepper.c,stepper.h,system.c,system.h,8x_gear_test.nc,HSM_test.nc,SO2_helloworld.nc,braid_cut2d.nc,grbl_sim.m,matlab.gcode,matlab_convert.py,test.gcode,kikigey89.settings,test.py']"
bf37ab7e7be6b6f44a86bf03c223113f46facc7a,Sonny Jeon,2015-01-17,"Fully configurable pins for NO or NC switches.- All pins, which include limits, control command, and probe pins, cannow all be configured to trigger as active-low or active-high andwhether the pin has its internal pull-up resistor enabled. This shouldallow for just about all types of NO and NC switch configurations.- The probe pin invert setting hasn’t been added to the Grbl settings,like the others, and will have to wait until v1.0. But for now, it’savailable as a compile-time option in config.h.- Fixed a variable spindle bug.","['config.h,cpu_map.h,defaults.h,limits.c,main.c,planner.c,probe.c,settings.h,spindle_control.c,system.c']"
a358c6de0bbd55463d0914b2d23dfbfd12624b78,Sonny Jeon,2015-02-04,"Rare planner bug fix and added simulator defaults.- Planner bug when moving along a diagonal back and forth on the samepath. Rare for the fact that most CAM programs don’t program this typeof motion, neither does jogging. Fixed in this update.- Added grbl_sim defaults for testing purposes.","['defaults.h,planner.c,settings.h,system.c']"
23c1e154aae3232deb9bacafca293a8cc154c26e,Sonny Jeon,2015-02-06,"Limit/control pin state reporting option- As a setup feature, users can compile-in input pin status reporting.Doesn’t do anything special, just prints the binary for the port. 0’sand 1’s indicate low and high signals on the pins. It’s a bit crypticright now, but it’s just a start.- Added a max step rate check when writing step/mm and max ratesettings. Should help avoid people misdiagnosing problems associatedwith going over the 30kHz step rate limit. Right now not enabled. Takesup over 100k of flash. Need that room for other things right now.","['config.h,report.c,report.h,settings.c']"
3b468f602b031a7f353fb7a5c986d829d1d14a52,Sonny Jeon,2015-02-10,Bug fix for certain motions. Re-org of includes.- Critical bug fix for diagonal motions that continue on the samedirection or return in the exact opposite direction. This issue couldcause Grbl to crash intermittently due to a numerical round-off error.Grbl versions prior to v0.9g shouldn’t have this issue.- Reorganized all of the includes used by Grbl. Centralized it into asingle “grbl.h” include. This will help simplify the compiling anduploading process through the Arduino IDE.- Added an example .INO file for users to simply open and run whencompiling and uploading through the IDE. More to come later.,"['config.h,coolant_control.c,Grbl.ino,gcode.c,grbl.h,limits.c,main.c,motion_control.c,motion_control.h,nuts_bolts.c,planner.c,print.c,probe.c,protocol.c,report.c,serial.c,settings.c,settings.h,spindle_control.c,stepper.c,system.c,system.h']"
4bdc20ffb94f70eaf99ad2c19d96f6c951f191c5,Sonny Jeon,2015-02-11,"Overhauled state machine. New safety door feature.- Overhauled the state machine and cleaned up its overall operation.This involved creating a new ‘suspend’ state for what all externalcommands, except real-time commands, are ignored. All hold type statesenter this suspend state.- Removed ‘auto cycle start’ setting from Grbl. This was not used byusers in its intended way and is somewhat redundant, as GUI manage thecycle start by streaming. It also muddled up how Grbl should interprethow and when to execute a g-code block. Removing it made everythingmuch much simpler.- Fixed a program pause bug when used with other buffer_sync commands.- New safety door feature for OEMs. Immediately forces a feed hold andthen de-energizes the machine. Resuming is blocked until the door isclosed. When it is, it re-energizes the system and then resumes on thenormal toolpath.- Safety door input pin is optional and uses the feed hold pin on A1.Enabled by config.h define.- Spindle and coolant re-energizing upon a safety door resume has aprogrammable delay time to allow for complete spin up to rpm andturning on the coolant before resuming motion.- Safety door-style feed holds can be used instead of regular feed hold(doesn’t de-energize the machine) with a ‘@‘ character. If the safetydoor input pin is not enabled, the system can be resumed at any time.","['config.h,cpu_map.h,gcode.c,limits.c,main.c,motion_control.c,probe.c,protocol.c,report.c,report.h,serial.c,settings.c,settings.h,stepper.c,system.c,system.h']"
9f7f2709912de5633ba50630fe4a523960177885,Martin Poelstra,2015-02-13,Fix EXEC_ALARM_* flags: soft limit would lead to hard limit error.,['system.h']
a10b0ab43bd63e05b656210f66b3f64bec50a151,Sonny Jeon,2015-02-13,Merge pull request #592 from poelstra/fix_softlimitFix EXEC_ALARM_* flags: soft limit would lead to hard limit error.,['']
8c9fc7943e6a0240677e4531a5bd84b7dfe6a36c,Sonny Jeon,2015-02-15,"Homing alarm upon no switch. Licensing update.- Homing cycle failure reports alarm feedback when the homing cycle isexited via a reset, interrupted by a safety door switch, or does notfind the limit switch.- Homing cycle bug fix when not finding the limit switch. It would justidle before, but now will exit with an alarm.- Licensing update. Corrected licensing according to lawyerrecommendations. Removed references to other Grbl versions.","['COPYING,config.h,coolant_control.c,coolant_control.h,cpu_map.h,defaults.h,eeprom.h,gcode.c,gcode.h,grbl.h,limits.c,limits.h,main.c,motion_control.c,motion_control.h,nuts_bolts.c,nuts_bolts.h,planner.c,planner.h,print.c,print.h,probe.c,probe.h,protocol.c,protocol.h,report.c,report.h,serial.c,serial.h,settings.c,settings.h,spindle_control.c,spindle_control.h,stepper.c,stepper.h,system.c,system.h']"
c7db1c4546665174adad0664b73d6792a2a6dfb1,Sonny Jeon,2015-02-23,"New configuration options.- New configuration option at compile-time: - Force alarm upon power-up or hard reset. When homing is enabled,this is already the default behavior. This simply forces this all ofthe time. - GUI reporting mode. Removes most human-readable strings that GUIsdon’t need. This saves nearly 2KB in flash space that can be used forother features. - Hard limit force state check: In the hard limit pin change ISR, Grblby default sets the hard limit alarm upon any pin change to guaranteethe alarm is set. If this option is set, it’ll check the state withinthe ISR, but can’t guarantee the pin will be read correctly if theswitch is bouncing. This option makes hard limit behavior a little lessannoying if you have a good buffered switch circuit that removesbouncing and electronic noise.- Software debounce bug fix. It was reading the pin incorrectly for thesetting.- Re-factored some of the ‘$’ settings code.","['config.h,grbl.h,limits.c,main.c,report.c,system.c']"
85b0c7a8b48e68fe0c4a5e8b2d8cb24a0789a231,Sonny Jeon,2015-02-25,"G91.1 support. Fixed a config.h option.- G91.1 support added. This g-code sets the arc IJK distance mode toincremental, which is the default already. This simply  helps reduceparsing errors with certain CAM programs that output this command.- Max step rate checks weren’t being compiled in if the option wasenabled. Fixed now.- Alarm codes were not displaying correctly when GUI reporting mode wasenabled. Due to unsigned int problem. Changed codes to positive valuessince they aren’t shared with other codes.","['gcode.c,gcode.h,report.c,report.h,settings.c']"
76730176da0ddee2f31aea3e28e2df54342629c9,Sonny Jeon,2015-03-04,"Arduino IDE compatibility and minor homing fixes- Added an include in the right spot, if a user tries to compile andupload Grbl through the Arduino IDE with the old way.- Fixed a minor bug with homing max travel calculations. It was causingsimultaneous axes homing to move slow than it did before.","['config.h,grbl.h,limits.c,protocol.c']"
ed29d8a1229afdaa53195805d73b8fb898793ff2,Sungeun Jeon,2015-03-27,"New compile options and inverse time bug fix.- Apparently inverse time motion were not working for quite some time.Goes to show how many people actually use it. The calculation was badand is now fixed in this update. It should now work correctly.- `;` comment type is now supported. This is standard on LinuxCNC andcommon on 3d printers. It was previously not supported due to notexisting in the NIST standard, which is out-dated.- New compile-option to ECHO the line received. This should help usersexperiencing very weird problems and help diagnose if there issomething amiss in the communication to Grbl.- New compile-option to use the spindle direction pin D13 as a spindleenable pin with PWM spindle speed on D11. This feature has beenrequested often from the laser cutter community. Since spindledirection isn’t really of much use, it seemed like good good trade.Note that M4 spindle enable counter-clock-wise support is removed forobvious reasons, while M3 and M5 still work.","['config.h,cpu_map.h,gcode.c,grbl.h,planner.c,protocol.c,report.c,report.h,spindle_control.c']"
4c20a2173fc99b6fffd4f73d93bc32dc2ed49753,Sonny Jeon,2015-03-29,"Commit history, logo license, full-arc fix.- Commit history added to repo, as an easier way for people to see viewthe changes over time.- Grbl logo copyright license added. All rights reserved with regardsto the Grbl logo.- G2/3 full circles would sometime not execute. The problem was due tonumerical round-off of a trig calculation. Added a machine epsilondefine to help detect and correct for this problem. Tested and shouldnot effect general operation of arcs.","['commit_log_v0.7.txt,commit_log_v0.8c.txt,commit_log_v0.9g.txt,commit_log_v0.9i.txt,COPYING,Grbl Logo 150px.png,Grbl Logo 250px.png,Grbl Logo 320px.png,Grbl Logo 640px.png,Grbl Logo.pdf,Grbl Logo.svg,config.h,grbl.h,motion_control.c']"
664854b9dfc50da847b73cd96e64450b4bfee518,Sonny Jeon,2015-05-17,"Critical M0/2/30 fix. Homing updates.- Critical fix for M0 program pause. Due to its recent change, it wouldcause Grbl to suspend but wouldn’t notify the user of why Grbl was notdoing anything. The state would show IDLE and a cycle start wouldresume it. Grbl now enters a HOLD state to better indicate the statechange.- Critical fix for M2 and M30 program end. As with M0, the statepreviously would show IDLE while suspended. Grbl now does not suspendupon program end and leaves job control to the GUI. Grbl simply reportsa `[Pgm End]` as a feedback message and resets certain g-code modes.- M2/30 g-code reseting fix. Previously Grbl would soft-reset after anM2/30, but this was not complaint to the (linuxcnc) g-code standard. Itsimply resets [G1,G17,G90,G94,G40,G54,M5,M9,M48] and keeps all othermodes the same.- M0/M2/M30 check-mode fix. It now does not suspend the machine duringcheck-mode.- Minor bug fix related to commands similar to G90.1, but not G90.1,not reporting an unsupported command.- Homing cycle refactoring. To help reduce the chance of usersmisunderstanding their limit switch wiring, Grbl only moves a shortdistance for the locate cycles only. In addition, the homing cyclepulls-off the limit switch by the pull-off distance to re-engage andlocate home. This should improve its accuracy.- HOMING_FORCE_ORIGIN now sets the origin to the pull-off location,rather than where the limit switch was triggered.- Updated default junction deviation to 0.01mm. Recent tests showedthat this improves Grbl’s cornering behavior a bit.- Added the ShapeOko3 defaults.- Added new feedback message `[Pgm End]` for M2/30 notification.- Limit pin reporting is now a $10 status report option. Requested byOEMs to help simplify support troubleshooting.","['commit_log_v0.9i.txt,config.h,defaults.h,gcode.c,grbl.h,limits.c,report.c,report.h,settings.h,stepper.c,system.h']"
f85c481dedfaac5a5c2ad1c419c0689709cebadc,Sonny Jeon,2015-05-23,"Homing and limit updates. Minor bug fixes.- Updated new homing cycle to error out when a pull-off motion detectsthe limit is still active.- Created a limits_get_state() function to centralize it. It reportsstate as a bit-wise booleans according to axis numbering.- Updated the print uint8 functions. Generalized it to allow both base2and base10 printouts, while allowing base2 prints with N_AXIS digitsfor limit state status reports. Doing this saved about 100bytes offlash as well.- Applied CoreXY status reporting bug fix by @phd0. Thanks!","['commit_log_v0.9i.txt,defaults.h,grbl.h,limits.c,limits.h,motion_control.c,print.c,print.h,report.c,system.c']"
0eb8bca3d9920ae7a08ace6f9fdceec432617620,Sonny Jeon,2015-05-23,CoreXY planner bug fix.- CoreXY motions were moving to the negative value of the intendedtarget. Now fixed.,['planner.c']
558e1a2dfc554e6ede75a578f524b05a365e0077,Michel Pollet,2015-05-27,"Rename Grbl to grblOtherwise compilation fails on linux, or other case sensitive systemsSigned-off-by: Michel Pollet <buserror@gmail.com>","['cpu_map_atmega2560.h,cpu_map_atmega328p.h']"
39a047a35feddc822d4842d92a3b4f25540bb09c,Sonny Jeon,2015-05-27,Merge pull request #710 from buserror/fix-directory-case-sensitivityRename Grbl to grbl,['']
cc38ae2471c756d3c02b11fff82166fa80d80823,Sonny Jeon,2015-06-25,Restore parameters minor bug fix.- `$RST=#` was not wiping the G30 positions from EEPROM. Minor but nowfixed.,"['commit_log_v0.9i.txt,settings.c']"
b3a53a46835c13fcd3c29997134f7ded72d28047,Sonny Jeon,2015-08-27,"v1.0 Beta Release.- Tons of new stuff in this release, which is fairly stable and welltested. However, much more is coming soon!- Real-time parking motion with safety door. When this compile optionis enabled, an opened safety door will cause Grbl to automatically feedhold, retract, de-energize the spindle/coolant, and parks near Z max.After the door is closed and resume is commanded, this reverses and theprogram continues as if nothing happened. This is also highlyconfigurable. See config.h for details.- New spindle max and min rpm ‘$’ settings! This has been requestedoften. Grbl will output 5V when commanded to turn on the spindle at itsmax rpm, and 0.02V with min rpm. The voltage and the rpm range arelinear to each other. This should help users tweak their settings toget close to true rpm’s.- If the new max rpm ‘$’ setting is set = 0 or less than min rpm, thespindle speed PWM pin will act like a regular on/off spindle enablepin. On pin D11.- BEWARE: Your old EEPROM settings will be wiped! The new spindle rpmsettings require a new settings version, so Grbl will automaticallywipe and restore the EEPROM with the new defaults.- Control pin can now be inverted individually with aCONTROL_INVERT_MASK in the cpu_map header file. Not typical for usersto need this, but handy to have.- Fixed bug when Grbl receive too many characters in a line andoverflows. Previously it would respond with an error per overflowcharacter and another acknowledge upon an EOL character. This broke thestreaming protocol. Now fixed to only respond with an error after anEOL character.- Fixed a bug with the safety door during an ALARM mode. You now can’thome or unlock the axes until the safety door has been closed. This isfor safety reasons (obviously.)- Tweaked some the Mega2560 cpu_map settings . Increased segment buffersize and fixed the spindle PWM settings to output at a higher PWMfrequency.- Generalized the delay function used by G4 delay for use by parkingmotion. Allows non-blocking status reports and real-time control duringre-energizing of the spindle and coolant.- Added spindle rpm max and min defaults to default.h files.- Added a new print float for rpm values.","['config.h,coolant_control.c,cpu_map_atmega2560.h,cpu_map_atmega328p.h,defaults_generic.h,defaults_oxcnc.h,defaults_shapeoko.h,defaults_shapeoko2.h,defaults_shapeoko3.h,defaults_sherline.h,defaults_simulator.h,defaults_x_carve_1000mm.h,defaults_x_carve_500mm.h,defaults_zen_toolworks_7x7.h,grbl.h,limits.c,motion_control.c,motion_control.h,nuts_bolts.c,nuts_bolts.h,planner.c,planner.h,print.c,print.h,protocol.c,protocol.h,report.c,report.h,settings.c,settings.h,spindle_control.c,stepper.c,stepper.h,system.c,system.h']"
9575199183aaaee541b3065c10f1047cc856833d,Sonny Jeon,2015-08-29,Optional line number reporting bug fix.- Fixed a bug where it would not compile when USE_LINE_NUMBERS wasenabled.,"['commit_log_v0.9i.txt,config.h,grbl.h,motion_control.c,motion_control.h']"
965e337405b58e1fd7248b8f7a84d4cf570686dd,Sonny Jeon,2015-09-05,Parking motion bug fix.- Parking motion would intermittently complete the queued tool pathupon resuming in certain scenarios. Now fixed.,"['commit_log_v0.9i.txt,gcode.c,grbl.h,limits.c,stepper.c']"
d226555810cc95a10971f57f685483d1a81af79f,Sonny Jeon,2015-09-30,"Minor bug fixes.- G38.x was not printing correctly in the $G g-code state reports. Nowfixed.- Potential bug regarding volatile variables inside a struct. It hasnever been a problem in v0.9, but ran into this during v1.0development. Just to be safe, the fixes are applied here.- Updated pre-built firmwares with these two bug fixes.","['commit_log_v0.9i.txt,gcode.c,grbl.h,limits.c,main.c,motion_control.c,probe.c,protocol.c,report.c,serial.c,stepper.c,system.c,system.h']"
b9c3461932402019f69e37a98c142474f33080e2,Sonny Jeon,2015-09-30,"Bug fixes.- G38.x was not printing correctly in the $G g-code state reports. Nowfixed.- When investigating the above issue, it was noticed that G38.xwouldn’t show at all, but instead a G0 would be printed. This wasunlike the v0.9j master build. It turned out volatile variables do notlike to be defined inside a C struct. These are undefined on how to behandled. Once pulled out, all weird issues went away.- Also changed two ‘sizeof()’ statements in the mc_probe() andprobe_state_monitor() functions to be more robust later on.- Updated the commit logs to individual files for each minor release.Forgot to update the generating script to account for this.",['']
111d28dc9a6ff00259f16c68302052980c5323e1,Sonny Jeon,2016-03-04,"Applied master branch bug fixes.- Planner was under-estimating maximum speeds through straightjunctions in certain cases. The calculations have been updated to bemore accurate.- Strange sizeof() bug in the most recent releases. Manifested as analarm upon a power up even when homing was disabled. Fixed by declaringsizeof() with struct types, rather than variable names, even thoughthey were validated to give the same value.- Spindle speed zero should disable the spindle. Now fixed.- New configuration option for inverting certain limit pins. Handy formixed NO and NC switch machines. See config.h for details.","['commit_log_v1.0c.txt,config.h,gcode.c,grbl.h,limits.c,main.c,planner.c,spindle_control.c,stepper.c']"
81adc202cd98f288ca4bcfbef4f71e31ce5c104c,Sonny Jeon,2016-03-11,"Soft limit error bug fix.- Soft limit errors were stuck in a feed hold without notifying theuser why it was in a hold. When resumed, the soft limit error wouldkick in. Issue should be fixed to behave as intended. To automaticallyhold and issue a soft limit alarm once the machine has come to a stop.","['commit_log_v1.0c.txt,grbl.h,limits.c,main.c,protocol.c,system.h']"
5bfc3a194507f7c977da0221820fc6e4aaf952b8,Sonny Jeon,2016-03-19,"No variable spindle and spindle speed fix.- Soft limit errors were stuck in a feed hold without notifying theuser why it was in a hold. When resumed, the soft limit error wouldkick in. Issue should be fixed to behave as intended to automaticallyhold and issue a soft limit alarm once the machine has come to a stop.","['commit_log_v1.0c.txt,grbl.h,spindle_control.c']"
12f48a008a2432df99771ff3223ba3f98578acc1,chamnit,2016-09-21,"Grbl v1.0e huge beta release. Overrides and new reporting.- Feature: Realtime feed, rapid, and spindle speed overrides. Thesealter the running machine state within tens of milliseconds!    - Feed override: 100%, +/-10%, +/-1% commands with values 1-200% ofprogrammed feed    - Rapid override: 100%, 50%, 25% rapid rate commands    - Spindle speed override: 100%, +/-10%, +/-1% commands with values50-200% of programmed speed    - Override values have configurable limits and increments inconfig.h.- Feature: Realtime toggle overrides for spindle stop, flood coolant,and optionally mist coolant    - Spindle stop: Enables and disables spindle during a feed hold.Automatically restores last spindles state.    - Flood and mist coolant: Immediately toggles coolant state untilnext toggle or g-code coolant command.- Feature: Jogging mode! Incremental and absolute modes supported.    - Grbl accepts jogging-specific commands like $J=X100F50. An axisword and feed rate are required. G20/21 and G90/G91 commands areaccepted.    - Jog motions can be canceled at any time by a feed hold `!`command. The buffer is automatically flushed. (No resetting required).    - Jog motions do not alter the g-code parser state so GUIs don’thave to track what they changed and correct it.- Feature: Laser mode setting. Allows Grbl to execute continuousmotions with spindle speed and state changes.- Feature: Significantly improved status reports. Overhauled to cram inmore meaningful data and still make it smaller on average.    - All available data is now sent by default, but does not appear ifit doesn’t change or is not active.    - Machine position(MPos) or work position(WPos) is reported but notboth at the same time. Instead, the work coordinate offsets (WCO)aresent intermittently whenever it changes or refreshes after 10-30 statusreports. Position vectors are easily computed by WPos  = MPos - WCO.    - All data has changed in some way. Details of changes are in themarkdown documents and wiki.- Feature: 16 new realtime commands to control overrides. All inextended-ASCII character space.    - While they are not easily typeable and requires a GUI, they can’tbe accidentally triggered by some latent character in the g-codeprogram and have tons of room for expansion.- Feature: New substates for HOLD and SAFETY DOOR. A `:x` is appendedto the state, where `x` is an integer and indicates a substate.    - For example, each integer of a door state describes in what phasethe machine is in during parking. Substates are detailed in thedocumentation.- Feature: With the alarm codes, homing and probe alarms have beenexpanded with more codes to provide more exact feedback on what causedthe alarm.- Feature: New hard limit check upon power-up or reset. If detected, afeedback message to check the limit switches sent immediately after thewelcome message.    - May be disabled in config.h.- OEM feature: Enable/disable `$RST=` individual commands based ondesired behavior in config.h.- OEM feature: Configurable EEPROM wipe to prevent certain data frombeing deleted during firmware upgrade to a new settings version or`RST=*` command.- OEM feature: Enable/disable the `$I=` build info write string withexternal EEPROM write example sketch.    - This prevents a user from altering the build info string inEEPROM. This requires the vendor to write the string to EEPROM viaexternal means. An Arduino example sketch is provided to accomplishthis. This would be useful for contain product data that isretrievable.- Tweak: All feedback has been drastically trimmed to free up flashspace for the v1.0 release.    - The `$` help message is just one string, listing availablecommands.    - The `$$` settings printout no longer includes descriptions. Onlythe setting values. (Sorry it’s this or remove overrides!)    - Grbl `error:` and `ALARM:` responses now only contain codes. Nodescriptions. All codes are explained in documentation.    - Grbl’s old feedback style may be restored via a config.h, butkeep in mind that it will likely not fit into the Arduino’s flash space.- Tweak: Grbl now forces a buffer sync or stop motion whenever a g-codecommand needs to update and write a value to EEPROM or changes the workcoordinate offset.    - This addresses two old issues in all prior Grbl versions. First,an EEPROM write requires interrupts to be disabled, including stepperand serial comm. Steps can be lost and data can be corrupted. Second,the work position may not be correlated to the actual machine position,since machine position is derived from the actual current executionstate, while work position is based on the g-code parser offset state.They are usually not in sync and the parser state is several motionsbehind. This forced sync ensures work and machine positions are alwayscorrect.    - This behavior can be disabled through a config.h option, but it’snot recommended to do so.- Tweak: To make status reports standardized, users can no longerchange what is reported via status report mask, except for onlytoggling machine or work positions.    - All other data fields are included in the report and can only bedisabled through the config.h file. It’s not recommended to alter this,because GUIs will be expecting this data to be present and may not becompatible.- Tweak: Homing cycle and parking motion no longer report a negativeline number in a status report. These will now not report a line numberat all.- Tweak: New `[Restoring spindle]` message when restoring from aspindle stop override. Provides feedback what Grbl is doing while thespindle is powering up and a 4.0 second delay is enforced.- Tweak: Override values are reset to 100% upon M2/30. This behaviorcan be disabled in config.h- Tweak: The planner buffer size has been reduced from 18 to 16 to freeup RAM for tracking and controlling overrides.- Tweak: TX buffer size has been increased from 64 to 90 bytes toimprove status reporting and overall performance.- Tweak: Removed the MOTION CANCEL state. It was redundant and didn’taffect Grbl’s overall operation by doing so.- Tweak: Grbl’s serial buffer increased by +1 internally, such that 128bytes means 128, not 127 due to the ring buffer implementation. Longoverdue.- Tweak: Altered sys.alarm variable to be set by alarm codes, ratherthan bit flags. Simplified how it worked overall.- Tweak: Planner buffer and serial RX buffer usage has been combined inthe status reports.- Tweak: Pin state reporting has been refactored to report only thepins “triggered” and nothing when not “triggered”.- Tweak: Current machine rate or speed is now included in every report.- Tweak: The work coordinate offset (WCO) and override states only needto be refreshed intermittently or reported when they change. Therefresh rates may be altered for each in the config.h file withdifferent idle and busy rates to lessen Grbl’s load during a job.- Tweak: For temporary compatibility to existing GUIs until they areupdated, an option to revert back to the old style status reports isavailable in config.h, but not recommended for long term use.- Tweak: Removed old limit pin state reporting option from config.h inlieu of new status report that includes them.- Tweak: Updated the defaults.h file to include laser mode, alteredstatus report mask, and fix an issue with a missing invert probe pindefault.- Refactor: Changed how planner line data is generated and passed tothe planner and onto the step generator. By making it a structvariable, this saved significant flash space.- Refactor: Major re-factoring of the planner to incorporate overridevalues and allow for re-calculations fast enough to immediately takeeffect during operation. No small feat.- Refactor: Re-factored the step segment generator for re-computing newoverride states.- Refactor: Re-factored spindle_control.c to accommodate the spindlespeed overrides and laser mode.- Refactor: Re-factored parts of the codebase for a new jogging mode.Still under development though and slated to be part of the officialv1.0 release. Hang tight.- Refactor: Created functions for computing a unit vector and valuelimiting based on axis maximums to free up more flash.- Refactor: The spindle PWM is now set directly inside of the stepperISR as it loads new step segments.- Refactor: Moved machine travel checks out of soft limits functioninto its own since jogging uses this too.- Refactor: Removed coolant_stop() and combined withcoolant_set_state().- Refactor: The serial RX ISR forks off extended ASCII values toquickly assess the new override realtime commands.- Refactor: Altered some names of the step control flags.- Refactor: Improved efficiency of the serial RX get buffer countfunction.- Refactor: Saved significant flash by removing and combining printfunctions. Namely the uint8 base10 and base2 functions.- Refactor: Moved the probe state check in the main stepper ISR toimprove its efficiency.- Refactor: Single character printPgmStrings() went converted to directserial_write() commands to save significant flash space.- Documentation: Detailed Markdown documents on error codes, alarmcodes, messages, new real-time commands, new status reports, and howjogging works. More to come later and will be posted on the Wiki aswell.- Documentation: CSV files for quick importing of Grbl error and alarmcodes.- Bug Fix: Applied v0.9 master fixes to CoreXY homing.- Bug Fix: The print float function would cause Grbl to crash if avalue was 1e6 or greater. Increased the buffer by 3 bytes to helpprevent this in the future.- Bug Fix: Build info and startup string EEPROM restoring was notwriting the checksum value.- Bug Fix: Corrected an issue with safety door restoring the properspindle and coolant state. It worked before, but breaks with laser modethat can continually change spindle state per planner block.- Bug Fix: Move system position and probe position arrays out of thesystem_t struct. Ran into some compiling errors that were hard to trackdown as to why. Moving them out fixed it.","['COPYING,Makefile,alarm_codes.csv,error_codes.csv,error_codes.md,jogging.md,realtime_cmds.md,report.md,config.h,coolant_control.c,coolant_control.h,cpu_map.h,defaults.h,grblWrite_BuildInfo.ino,license.txt,gcode.c,gcode.h,grbl.h,jog.c,jog.h,limits.c,limits.h,main.c,motion_control.c,motion_control.h,nuts_bolts.c,nuts_bolts.h,planner.c,planner.h,print.c,print.h,probe.c,probe.h,protocol.c,protocol.h,report.c,report.h,serial.c,serial.h,settings.c,settings.h,spindle_control.c,spindle_control.h,stepper.c,stepper.h,system.c,system.h']"
e51e691eebf605c7edd8c989c0d8669a90eca50a,Sonny Jeon,2016-09-22,"Increment to v1.1a, minor compile bug fix, tweaked communication protocol, more docs.- Incremented to v1.1a, rather than keep 1.0e. This is because thereare existing v1.0 installations. Don’t want to confuse people further.- Certain version of the Arduino IDE did not like the `inline` in thefunction header. Removed from spindle_control files to fix the problem.- Tweaked the communication protocol slightly. Added message typeindicators for all `[]`bracketed feedback messages. It’s beenproblematic for GUI dev to try to determine the context of a messageand how it should be handled. These indictors should help tremendouslyto remove context all together.- Also altered how `$N` startup lines are presented when executed. Theynow start with an open chevron ‘>’ followed by the line and an ‘:ok’ toindicate it executed. The ‘ok’ is on the same line intentionally so itdoesn’t mess up a streaming protocol counter.- Managed to save a 100+KB from refactoring parts of report.c. (ThanksVasilis!) Freed up room to alter the protocol a little.- Wrote a markdown document on interface messaging to make it clear howit’s intended to work. See interface.md in /doc/markdown- Started to pull in some Wiki pages from the old grbl site andbeginning to update them for v1.1.- Created new commit log for v1.1.","['commit_log_v1.1.txt,error_codes.md,interface.md,interface_notes.md,settings.md,realtime_cmds.md,report.md,grbl.h,print.c,print.h,report.c,report.h,spindle_control.c,spindle_control.h,system.c']"
c0f61e4aac2250c9585dd50a648e4ee4d0f439d9,Sonny Jeon,2016-09-24,Serial RX count bug fix. Settings codes CSV. More documentation.- Reverted back the serial RX count function to how it was. Thevariable type was unsigned and cause an integer underflow whenever thecalculation produced a negative number. The old way was the correct way.- Lots of minor edits to the code CSVs and markdown documents.- Expanded on explaining feedback messages and startup line executionfeedback.- Created a new settings codes CSV to help GUIs import the values andmeanings.,"['alarm_codes_en_US.csv,error_codes_en_US.csv,setting_codes_en_US.csv,commit_log_v1.1.txt,change_summary.md,error_codes.md,interface.md,realtime_cmds.md,serial.c']"
d21e06a2011ee040815fb12e239a4f431616da7b,Sonny Jeon,2016-09-26,"v1.1b: Tweaked Bf reports, jogging doc, saved another 160 bytes, minor bug fixes- Increment to v1.1b due to status report tweak.- Tweaked the buffer state status reports to show bytes and blocksavailable, rather than in use. This does not require knowing the buffersizes beforehand. It’s implicit.- Also, since buffer states are not used by most devs (afterinquiries), it is no longer enabled by default and a status mask optionwas added for this.- Fixed some typos and updated for the report tweak in thedocumentation.- Wrote a joystick implementation concept in the jogging markdowndocument. Outlines how to get a low-latency feel to a joystick (andother input devices).- Removed XON/XOFF support. It’s not used by anyone because of itsinherent problems. Remains in older versions for reference.- Added a compile option on how to handle the probe position during acheck mode.- Fixed a jogging bug. If G93 is the modal state before a joggingmotion, the feed rate did not get calculated correctly. Fixed the issue.- Refactored some code to save another 160+ bytes. Included an improvedfloat vector comparison macro and reducing a few large and repetitivefunction calls.- Fixed a probing bug (existing in v0.9 too) where the target positionswere not set correct and error handling was improper.","['commit_log_v1.1.txt,change_summary.md,interface.md,jogging.md,config.h,defaults.h,gcode.c,gcode.h,grbl.h,motion_control.c,motion_control.h,nuts_bolts.h,planner.c,planner.h,report.c,serial.c,serial.h,settings.h']"
d1037268c863e2c4657941205eb547354cb34427,Sonny Jeon,2016-10-11,"v1.1c: New sleep mode. Laser mode and other bug fixes.- New $SLP sleep mode that will disable spindle, coolant, and stepperenable pins. Allows users to disable their steppers without having toalter their settings. A reset is required to exit and re-initializes inalarm state.- Laser mode wasn’t updating the spindle PWM correctly (effectedspindle speed overrides) and not checking for modal states either.Fixed both issues.- While in laser mode, parking motions are ignored, since the power offdelay with the retract motion would burn the material. It will justturn off and not move. A restore immediately powers up and resumes. Nodelays.- Changing rpm max and min settings did not update the spindle PWMcalculations. Now fixed.- Increased default planner buffer from 16 to 17 block. It seems to bestable, but need to monitor this carefully.- Removed software debounce routine for limit pins. Obsolete.- Fixed a couple parking motion bugs. One related to restoringincorrectly and the other the parking rate wasn’t compatible with theplanner structs.- Fixed a bug caused by refactoring the critical alarms in a recentpush. Soft limits weren’t invoking a critical alarm.- Updated the documentation with the new sleep feature and added somemore details to the change summary.","['commit_log_v1.1.txt,change_summary.md,interface.md,config.h,cpu_map.h,gcode.c,grbl.h,limits.c,motion_control.c,planner.h,protocol.c,report.c,report.h,serial.c,settings.c,spindle_control.c,stepper.c,system.c,system.h']"
6ab3cfbe7da3fd73508bb3e8422e45bcf5ae9def,Sonny Jeon,2016-10-12,Spindle speed bug fix.- Spindle speed updating wasn’t working in the g-code parser due tosome borked up logic on my part. Fixed it and should be operating asintended for both normal and laser spindle modes.- Elaborated a little more on the new sleep mode in the documentation.,"['commit_log_v1.1.txt,interface.md,gcode.c,grbl.h']"
a0e96eb11abdbf06dce6c8d4bcc22fc0b33d545e,chamnit,2016-10-12,"Added settings documentation. Very minor bug fix to step direction handling.- Added v1.1 settings documentation to the markdown folder.- Fixed a very minor bug in the step direction handling upon wakeup.The direction mask would temporarily go back to default mask for abouta millisecond when moving in the same non-default direction. It did noteffect Grbl behavior before, but fixed for consistency.","['commit_log_v1.1.txt,realtime_cmds.md,settings.md,stepper.c']"
ed790c9fa298b77529ec87b917d19f249cff976b,Sonny Jeon,2016-10-17,"v1.1d: Tweaked interface a bit. Added realtime spindle speed and build option data. Minor bug fixes.- Increment to v1.1d due to interface tweaks.- Based on GUI dev feedback, the toggle overrides report was removedand replace with showing “accessory state”. This shows a character if aparticular accessory is enabled, like the spindle or flood coolant.These can be directly altered by the toggle overrides, so when theyexecute, a GUI will be able to observe the state altering as feedback.- Altered the real-time feed rate to show real-time spindle speed aswell. It was an over-sight on my part. It’s needed because it’s hard toknow what the current spindle speed is when overrides are altering it.Especially during something like a laser cutting job when its importantto know how spindle speed overrides are effecting things.- Real-time spindle speed is not shown if VARIABLE_SPINDLE is disabled.The old real-time feed rate data field will show instead.- Compile-time option data is now included in another messageimmediately following the build info version string, starting with`[OPT:`. A character code follows the data type name with eachindicating a particular option enabled or disabled. This will helpimmensely with debugging Grbl as well as help GUIs know exactly howGrbl was compiled.- These interface changes are detailed in the updated documentation.- Reduced the default planner buffer size from 17 to 16. Needed to freeup some memory…- For increasing the serial TX buffer size from 90 to 104 bytes. Theaddition of real-time spindle speeds and accessory enable data requireda bigger buffer. This is to ensure Grbl is performing at optimal levels.- Refactored parts of the spindle and coolant control code to make itmore consistent to each other and how it was called. It was a littlemessy. The changes made it easier to track what each function call wasdoing based on what was calling it.- Created a couple of new get_state functions for the spindle andcoolant. These are called by the accessory state report to lookdirectly at the pin state, rather than track how it was set. Thisguarantees that the state is reported correctly.- Updated the g-code parser, parking motion, sleep mode, and spindlestop calls to refactored spindle and coolant code.- Added a compile-time option to enable homing individual axes, ratherthan having only the main homing cycle. The actual use case for this ispretty rare. It’s not recommended you enable this, unless you have aspecific application for it. Otherwise, just alter the homing cycleitself.- Refactored the printFloat() function to not show a decimal point ifthere are no trailing values after it. For example, `1.` now shows `1`.- Fixed an issue regarding spindle speed overrides no being applied toblocks without motions.- Removed the toggle_ovr_mask system variable and replaced withspindle_stop_ovr system variable. Coolant toggles don’t need to betracked.- Updated README","['Makefile,build_option_codes_en_US.csv,commit_log_v1.1.txt,change_summary.md,interface.md,settings.md,config.h,coolant_control.c,coolant_control.h,cpu_map.h,gcode.c,grbl.h,main.c,motion_control.c,motion_control.h,planner.h,print.c,protocol.c,report.c,serial.h,spindle_control.c,spindle_control.h,stepper.c,system.c,system.h']"
498dd625728aa6c0e49847bfa98b7720c6f7c763,Sonny Jeon,2016-10-23,"Spindle speed close to minimum fix.- When spindle speed is close to the minimum rpm, the PWM value wouldbe zero or lower than allowed. The computation error was caused bysetting the minimum PWM value to zero, when it should have been 1.- Added a compiler check for minimum PWM to be greater than zero.- Moved some of the spindle PWM macros to a more appropriate place inthe cpu_map.h.","['commit_log_v1.1.txt,config.h,cpu_map.h,grbl.h,report.c,spindle_control.c']"
cb916a996a3da6531f02e668722414e6f77fab58,Sonny Jeon,2016-10-26,"Add high-frequency spindle output option. Minor parking motion re-factoring.- Some laser controllers were reported to need a very high PWMfrequency. Added a line to enable this in cpu_map.h, if needed.- Cleaned up some of the parking code. Mostly just editing the comments.- Moved the accessory state resetting after the initial parkingretract. Should ensure the accessory state is properly handled upon anaborted parking restore. Not certain if this was a problem beforethough. Just to be sure.","['commit_log_v1.1.txt,cpu_map.h,grbl.h,protocol.c']"
6e3fb6bd13e3c8a0b5ecfe26bdf5b36c8f4e7f82,Sonny Jeon,2016-11-04,"Improved constant laser power per rate mode. Re-factored for flash size. Minor bug fixes.- NOTE: This commit has largely been untested.- Constant laser power per rate mode has been improved. Altered itsimplementation to be more responsive and accurate.- Based on LaserWeb dev feedback, only G1, G2, and G3 moves operatewith constant laser power mode. Meaning that G0, G38.x, and $J joggingmotions operate without it and will keep a constant power output. Thiswas specifically requested as a way to focus the laser by keeping thelaser on when not moving. Operationally, this shouldn’t alter how thelaser mode operates.- Re-factored parts of the g-code parser and g-code state reports tosave a few hundred bytes of flash. What was done makes the code a bitmore unreadable (bad), but the flash space was in dire need. So, I’mwilling to live with it for now.- Fixed a problem with $G g-code state reports. Showed `M0` programpause during a run state. Now fixed to show nothing during a run state.Also, `M30` program end was shown as `M2`. This was also corrected.- Improved spindle stop override responsiveness by removing theenforced spindle restoring delay. It’s not needed for a feature that isuser controlled.- Fixed a bug with G2/3 arcs in inverse time mode.- Updated the interface.md document to make it more clear how WPos: orMPos: can be calculated from WCO:. Some GUI devs have failed to catchthis in the documentation.","['commit_log_v1.1.txt,interface.md,gcode.c,gcode.h,grbl.h,motion_control.c,planner.h,protocol.c,report.c,spindle_control.c,stepper.c']"
b753c542c7f708a5b86b73e87328615223c5c8be,Sonny Jeon,2016-12-03,"v1.1e: New laser features. G-code parser refactoring. CoreXY homing fix.- Increment to v1.1e due to new laser features.- After several discussions with some prominent laser people, a fewtweaks to the new laser mode has been installed.- LASER: M3 behaves in a constant power mode.- LASER: M4 behaves in a dynamic power mode, where the laser power isautomatically adjusted based on how fast Grbl is moving relative to theprogrammed feed rate. This is the same as the  CONSTANT_POWER_PER_RATEconfig.h option in the last version. NOTE: When not in motion in M4,Grbl automatically turns off the laser. Again, it only operates whilemoving!- LASER: Only G1, G2, and G3 motion modes will turn on the laser. So,this means that G0, G80 motion modes will always keep the laserdisabled. No matter if M3/M4 are active!- LASER: A spindle stop override is automatically invoked when a laseris put in a feed hold. This behavior may be disabled by a config.hoption.- Lots of little tweaks to the g-code parser to help streamline it abit. It should no effect how it operates. Generally just added a parserflag to track and execute certain scenarios a little more clearly.- Jog motions now allow line numbers to be passed to it and will bedisplayed in the status reports.- Fixed a CoreXY homing bug.- Fixed an issue when $13 is changed, WCO isn’t sent immediately.- Altered how spindle PWM is set in the stepper ISR. Updated on a stepsegment basis now. May need to change this back if there are anyoddities from doing this.- Updated some documentation. Clarified why M0 no longer showing up in$G and why a `1.` floating point values are shown with no decimals,like so `1`.","['commit_log_v1.1.txt,change_summary.md,interface.md,jogging.md,config.h,gcode.c,gcode.h,grbl.h,jog.c,jog.h,motion_control.c,motion_control.h,planner.c,protocol.c,report.c,settings.c,spindle_control.c,stepper.c']"
94083e8314d99c147f8632d2c203414da1bf48e6,chamnit,2016-12-04,Fixed unintended laser mode pausing. Updated documentation. Min SS OVR lowered to 10%.- [laser] Tested a working version and pushed the wrong one for thelast! 20161203 was pausing upon every spindle speed change. That’s notright. Fixed so nearly all motions are passed through and does not stop.- Minimum spindle speed override lower from 50% to 10%. Lasers coulduse the lower speeds.- Fixed a very minor bug related to G80 error checking. Allowed noerror with non-modal motions with axis words. Not correct and fixed.- Fixed a compile error when disabling VARIABLE_SPINDLE- [doc] Updated some obsolete documentation.- [doc] Started a “Laser Mode” document that summarizes how Grbl’s newlaser mode works.,"['commit_log_v1.1.txt,change_summary.md,laser_mode.md,realtime_cmds.md,settings.md,config.h,gcode.c,gcode.h,grbl.h,stepper.c']"
490d3f1220a32b7723533f31a192faec1066119a,Sonny Jeon,2016-12-08,"Removed classic GUI interface. Fixed typo with line number support.- [config] Permanently removed classic GUI interface support. Thisunintentionally created a problem where some users/GUI devs used thiscompatibility mode and did not update to the new interface. So, therewere two interfaces in use, rather than just one like it was intended.This removal should help everyone by forcing all GUIs to update andupdated GUI not having to support yet another interface.- Fixed typo with line number support in jog mode.","['commit_log_v1.1.txt,config.h,grbl.h,jog.c,report.c,settings.h']"
af17f0071f1b964c32962d486f0351bdc6f7a6d9,Sonny Jeon,2016-12-12,Updating steam.py streaming script- Added push message capability to the stream.py streaming script. Itprints out as a `Debug:` string in the output.,['stream.py']
864d1306b93285645599e33063c0805e6c8ff905,Sonny Jeon,2016-12-19,"Fixed homing fail alarm handling. Re-integrated software debouncing.- [bug] Fixed a homing fail issue, where the alarm was not being setright, not cleared correctly. It would report the wrong code and enteran infinite alarm loop. This was due to how alarm codes were altered awhile back. Now updated and fixed to show the right codes.- [feature] Re-installed optional software debouncing for hard limitswitches. By request.","['commit_log_v1.1.txt,config.h,grbl.h,limits.c,motion_control.c,planner.c,protocol.c,report.c,report.h,system.c,system.h']"
67ab9280d9e02fa7546fca96c8ba7a1893e01f8b,Sonny Jeon,2017-01-14,Tool number bug fix. Updated documentation.- [fix] Tool numbers were not being tracked and reported correctly. Nowshows tool number values in $G when programmed.- [fix] Added a max tool number value check to the g-code parser.- [doc] Added a new error code for invalid tool number. Updated CSV andinterface documents.- [doc] Added a implementation note for buffer state in status reports.Don’t rely on this data for streaming.,"['error_codes_en_US.csv,commit_log_v1.1.txt,interface.md,cpu_map.h,gcode.c,grbl.h,report.h']"
e455764079ccfa9ae277a8fa0078b0dbb36f3a51,chamnit,2017-01-28,"v1.1f. Parking override control. Spindle enable pin option.[ver] v1.1f update due to tweaks to interface from new parking overridecontrol.[new] Parking motion override control via new `M56 P0` and `M56 P1`command, which disables and enables the parking motion, respectively.Requires ENABLE_PARKING_OVERRIDE_CONTROL and PARKING_ENABLE enabled inconfig.h. Primarily for OEMs.[new] `M56` appears in the $G report when enabled.[new] Five new build info identification letters. Some were missing anda couple are new. Updated the CSV and documentation to reflect thesenew items.[new] Spindle enable pin configuration option to alter its behaviorbased on how certain lasers work. By default, Grbl treats the enablepin separately and leaves it on when S is 0. The new option turns theenable pin on and off with S>0 and S=0. This only is in effect when auser enables the USE_SPINDLE_DIR_AS_ENABLE_PIN option.[fix] M4 is now allowed to work when USE_SPINDLE_DIR_AS_ENABLE_PIN isenabled. Previously this was blocked and was problematic for laserfolks using M4.[fix] Properly declared system variables as extern. Not sure how thatwent unnoticed or why it worked up until now but it has.[fix] EXTREMELY RARE. When AMASS is intentionally disabled and sent amotion command that is _one step_ in length, Grbl would not actuate thestep due to numerical round-off. Applied a fix to prevent the round-offissue.[fix] Added a compile-time check for AMASS settings to make sure thatthe numerical round-off issue doesn’t effect it. This would only happenif someone set AMASS max levels to zero. It does not effect AMASS withits current defaults.[fix] Wrapped the mc_parking_motion() function in an ifdef for portingpurposes.[fix] Fixed an issue when in inverse time mode and G0’s would require aF word. This was not correct.[fix] Added a note in the defaults.h file that MAX_TRAVEL values mustbe positive. Some users were setting this negative and it was causingissues.","['build_option_codes_en_US.csv,commit_log_v1.1.txt,change_summary.md,commands.md,interface.md,laser_mode.md,config.h,defaults.h,gcode.c,gcode.h,grbl.h,main.c,motion_control.c,motion_control.h,protocol.c,report.c,spindle_control.c,stepper.c,system.h']"
775acac601558a18633cac158449839738693bb9,Sonny Jeon,2017-03-24,"Added an error code for laser mode when VARIABLE_SPINDLE is disabled.- When trying to enable laser mode with $32=1 and VARIABLE_SPINDLE isdisabled, the error code shown was improperly stating it was a homingfailure. Added an new error code specifically for the laser mode beingdisabled without VARIABLE_SPINDLE.","['error_codes_en_US.csv,commit_log_v1.1.txt,interface.md,grbl.h,report.h,settings.c']"
790c666ecbe0775019ee9deef51c27db33409ab9,chamnit,2017-05-31,New nonlinear spindle speed PWM output model and solution. Updated scripts.[new] A nonlinear spindle speed/PWM output option via a piecewiselinear fit model. Enabled through config.h and solved by a Pythonscript in /doc/script[new] fit_nonlinear_spindle.py. A solver script that can be run onhttp://repl.it for free. No Python install necessary. All instructionsare available in the script file comments.[new] stream.py has been updated to include status reports feedback at1 second interval.[fix] stream.py bug fix with verbose mode disabled.,"['commit_log_v1.1.txt,fit_nonlinear_spindle.py,stream.py,config.h,grbl.h,spindle_control.c']"
921e5a9799691118ffe5d4ecf5ccce68efe8a3f8,Sonny Jeon,2017-07-17,"Clean up and new streaming script check-mode feature.[new] The stream.py streaming script now has a check-mode option, where it will place Grbl in $C check mode automatically and then stream the g-code program. It's a very fast way to check if the g-code program has any errors.[fix] The debug variable was not initialized if the debug option was enabled in config.h[fix] Updated error_codes CSV file to the same format as the others.","['error_codes_en_US.csv,commit_log_v1.1.txt,stream.py,grbl.h,main.c']"
477a94cd4965a3442e88cd0b69d95ced7452d2c8,Sonny Jeon,2017-07-31,"Hot fix for rare lowering feed override bug.[fix] Squashed a very rare bug when lowering the feedrate (or rapid) override. When in the very strict set of circumstances with acceleration settings, override step size, and current speed, an internal calculation would cause Grbl to crash. The fix was an overlooked equality statement that should have been a less than or equal, not a less than.","['commit_log_v1.1.txt,grbl.h,stepper.c']"
5967839ab38f8e984a384db1f64e781cffb9e739,Sonny Jeon,2017-08-01,"Improved fix for rare lowering feed/rapid override bug.[fix] In the previous hot fix, there was still (rarer) potential forvery small floating point errors incorrectly handle an overridedeceleration and crash Grbl. Re-factored the if-then statement in termsof speed changes, rather than distance, to completely eliminate theissue.","['commit_log_v1.1.txt,grbl.h,stepper.c']"
a84aa1800c1feef2bec2808ebe23ff06d14ad69f,Jon,2018-06-09,Fix apparent error in restore masking that causes the call to coolant_set_state to not re-enable the mist (M7) output if it was previously enabled. (#469),['protocol.c']
332acada8854538443d625c84b5346a34cabbf6a,Sonny Jeon,2018-06-14,"Spindle/coolant rare bug fixes. Free more flash.[new] Altered the way default settings are stored and restored. Saved about 300 bytes(!) of flashed size. Should free up enough for certain configurations of CoreXY machines.[fix] When the optional M7 mist coolant IO was enabled, coolant overrides was not disabling correctly.[fix] Coolant override states was not restored correctly after a parking motion in certain situations. It would restore programmed state, rather than current overridden state.[fix] Now allow coolant overrides to operate during jogging motion.[fix] Invert control pin mask typo.[new] Added a new build info feedback mechanism for enabling the safety door input pin.","['build_option_codes_en_US.csv,commit_log_v1.1.txt,interface.md,config.h,coolant_control.c,coolant_control.h,gcode.c,grbl.h,planner.h,protocol.c,report.c,settings.c,settings.h']"
0b5604bd7bcceb1f52a50b280a5e81d35a202d30,Sonny Jeon,2018-11-12,Update gcode.cIf statement bug fix related to jog motion modal group error checking.,['gcode.c']
bdc2da9b5972c5972cdd4a4f045a575f09ff74cc,Sonny Jeon,2019-08-30,Fixed typo bug effecting dual-axis build with Y.,"['grbl.h,report.c']"
